/*!CK:2005452871!*//*1390811138,178191153*/

if (self.CavalryLogger) { CavalryLogger.start_js(["iM903"]); }

__d("getDOMImageSize",["URI"],function(a,b,c,d,e,f){var g=b('URI');function h(m){m.onload=null;m.onerror=null;m.onreadystatechange=null;m._callback=null;m._thisObj=null;m._srcStr=null;m.parentNode&&m.parentNode.removeChild(m);}function i(){var m=this;if(m._callback)m._callback.call(m._thisObj,m.naturalWidth||m.width,m.naturalHeight||m.height,m._srcStr);h(m);}function j(){var m=this;if(m.readyState==='complete')i.call(m);}function k(){var m=this;if(m._callback)m._callback.call(m._thisObj,0,0,m._srcStr);h(m);}function l(m,n,o){o=o||null;if(!m){n.call(o,0,0,'');return;}var p=document.body;if(!p){setTimeout(l.bind(this,m,n,o),500);return;}var q;if(typeof m==='string'){q=m;}else if(typeof m==='object')if(typeof m.width==='number'&&typeof m.height==='number'){if(typeof m.src==='string'){q=m.src;if(m.naturalWidth&&m.naturalHeight){n.call(o,m.naturalWidth,m.naturalHeight,q);return;}}if(typeof m.uri==='string'){q=m.uri;if(m.width&&m.height){n.call(o,m.width,m.height,q);return;}}}else if(m instanceof g)q=m.toString();if(!q){n(0,0,m);return;}var r=document.createElement('img');r.onreadystatechange=j;r.onload=i;r.onerror=k;r._callback=n;r._thisObj=o;r._srcStr=q;r.src=q;r.style.cssText='position:absolute;left:0;top:0;width:auto;height:auto;clip:rect(0 0 0 0);';p.insertBefore(r,p.firstChild);}e.exports=l;});
__d("CachedDOMImageSizePool",["debounce","getDOMImageSize"],function(a,b,c,d,e,f){var g=b('debounce'),h=b('getDOMImageSize');function i(j,k){"use strict";this.$CachedDOMImageSizePool0={};this.$CachedDOMImageSizePool1=k;this.$CachedDOMImageSizePool2=0;this.$CachedDOMImageSizePool3=j;this.$CachedDOMImageSizePool4=g(this.$CachedDOMImageSizePool5,5000,this);this.$CachedDOMImageSizePool6={};this.$CachedDOMImageSizePool7={};}i.prototype.get=function(j,k,l){"use strict";if(!j){k.call(l,0,0,j);return;}var m=this.$CachedDOMImageSizePool0[j];if(m){m.lastAccessTime=Date.now();k.call(l,m.width,m.height,m.src);}else if(this.$CachedDOMImageSizePool6[j]){this.$CachedDOMImageSizePool6[j].push(k);this.$CachedDOMImageSizePool7[j].push(l);}else{this.$CachedDOMImageSizePool6[j]=[k];this.$CachedDOMImageSizePool7[j]=[l];h(j,this.$CachedDOMImageSizePool8,this);}};i.prototype.set=function(j,k,l){"use strict";if(this.$CachedDOMImageSizePool2>this.$CachedDOMImageSizePool3)this.$CachedDOMImageSizePool4();var m=this.$CachedDOMImageSizePool0;if(j&&!m[j]){var n={width:k,height:l,src:j,lastAccessTime:Date.now()};m[j]=n;this.$CachedDOMImageSizePool2++;}};i.prototype.$CachedDOMImageSizePool8=function(j,k,l){"use strict";this.set(l,j,k);var m=this.$CachedDOMImageSizePool6[l],n=this.$CachedDOMImageSizePool7[l];for(var o=0,p=m.length;o<p;o++)m[o].call(n[o],j,k,l);delete this.$CachedDOMImageSizePool6[l];delete this.$CachedDOMImageSizePool7[l];};i.prototype.$CachedDOMImageSizePool5=function(){"use strict";var j=Date.now(),k=this.$CachedDOMImageSizePool0,l=this.$CachedDOMImageSizePool2,m=this.$CachedDOMImageSizePool1;for(var n in k){var o=k[n];if((j-o.lastAccessTime)>m){delete k[n];l--;}}this.$CachedDOMImageSizePool2=l;};e.exports=i;});
__d("BackgroundImage.react",["CachedDOMImageSizePool","React","ReactPropTypes","XUISpinner.react","cx","invariant","joinClasses"],function(a,b,c,d,e,f){var g=b('CachedDOMImageSizePool'),h=b('React'),i=b('ReactPropTypes'),j=b('XUISpinner.react'),k=b('cx'),l=b('invariant'),m=b('joinClasses'),n='(-?(\\d+\\.)?\\d+(px|\\%))',o=new RegExp('^'+n+'?(\\s'+n+')?$','g'),p=new g(50,10*60*1000),q=h.createClass({displayName:'BackgroundImage',propTypes:{src:i.string,width:i.number.isRequired,height:i.number.isRequired,backgroundSize:i.oneOf(['contain','cover','containinside','coverinside']),loadingIndicatorStyle:i.oneOf(['none','large','small']),backgroundPosition:function(r,s,t){var u=r[s];if(u){l(typeof u==='string');l(u.match(o));}},onImageLoad:i.func,optimizeResizeSpeed:i.bool,onContextMenu:i.func},getInitialState:function(){return {imageWidth:null,imageHeight:null,imageSrc:this.props.src,loading:true};},getDefaultProps:function(){return {optimizeResizeSpeed:false,loadingIndicatorStyle:'none'};},componentDidMount:function(){this._resolveImageSize();},componentDidUpdate:function(r){if(this.props.src!==this.state.imageSrc)this.setState({imageWidth:0,imageHeight:0,imageSrc:this.props.src,loading:true},this._resolveImageSize);},_resolveImageSize:function(){var r=this.state.imageSrc;if(r)p.get(r,this._onImageSizeResolved,this);},render:function(){var r={width:this.props.width+'px',height:this.props.height+'px'},s=m(this.props.className,"_5f0d");return this.transferPropsTo(h.DOM.div({className:s,style:r,onContextMenu:this.props.onContextMenu},this._renderImage(),this._renderContent(),this._renderLoadingIndicator()));},_renderLoadingIndicator:function(){if(!this.state.loading||this.props.loadingIndicatorStyle==='none')return null;return (h.DOM.div({className:"_5laq _5lar"},h.DOM.div({className:"_5las"},h.DOM.div({className:"_5lat"},j({size:this.props.loadingIndicatorStyle})))));},_renderContent:function(){if(this.props.children)return (h.DOM.div({className:"_5laq"},h.DOM.div({className:"_5las"},h.DOM.div({className:"_5lat"},this.props.children))));},_renderImage:function(){if(!this.state.imageWidth||!this.state.imageHeight)return;var r=this.props.width,s=this.props.height,t,u;switch(this.props.backgroundSize){case 'cover':t='cover';u=false;break;case 'coverinside':t='cover';u=true;break;case 'contain':t='contain';u=false;break;case 'containinside':t='contain';u=true;}var v=this.state.imageWidth,w=this.state.imageHeight,x=r/s,y=v/w;if(t==='contain')if((v>r||!u)&&y>=x){v=r;w=v/y;}else if(w>s||!u){w=s;v=w*y;}if(t==='cover')if((v>r||!u)&&y>=x){w=s;v=w*y;}else if(w>s||!u){v=r;w=v/y;}var z=this._getImageStyle(v,w);return (h.DOM.img({alt:"",className:(("_5i4g")+(this.props.optimizeResizeSpeed?' '+"_5sjv":'')),style:z,src:this.state.imageSrc}));},_getImageStyle:function(r,s){var t;if(this.props.backgroundPosition){t=this.props.backgroundPosition.split(' ');}else t=['50%','50%'];return {width:Math.round(r)+'px',height:Math.round(s)+'px',left:this._getBackgroundPositionPxValue('left',t[0],r,s),top:this._getBackgroundPositionPxValue('top',t[1]||t[0],r,s)};},_getBackgroundPositionPxValue:function(r,s,t,u){var v=parseFloat(s),w=s.substr(v.toString().length);if(w==='px')return s;if(r==='left'){return Math.round((this.props.width-t)*(v/100))+'px';}else return Math.round((this.props.height-u)*(v/100))+'px';},_onImageSizeResolved:function(r,s,t){if(!this.isMounted()||this.state.imageSrc!==t)return;var u=this.props.onImageLoad?this.props.onImageLoad.bind(null,r,s):null;this.setState({imageWidth:r,imageHeight:s,loading:false},u);}});e.exports=q;});
__d("ContextualLayer.react",["ContextualLayer","React","ReactLayer","Style","invariant"],function(a,b,c,d,e,f){var g=b('ContextualLayer'),h=b('React'),i=b('ReactLayer'),j=b('Style'),k=b('invariant'),l=h.PropTypes,m=i.createClass({propTypes:{contextRef:l.string,context:function(n,o,p){k((n.context==null)!=(n.contextRef==null));var q=n[o];if(q!=null)k(h.isValidComponent(q));}},immutableProps:{modal:null},createLayer:function(n){var o=this._getContextNode(),p={context:o,contextBounds:this.props.contextBounds,position:this.props.position,alignment:this.props.alignment,offsetX:this.props.offsetX,offsetY:this.props.offsetY,addedBehaviors:this.enumerateBehaviors(this.props.behaviors),shouldSetARIAProperties:this.props.shouldSetARIAProperties},q=new g(p,n);this._node=n;this._matchContextSize(this.props);q.conditionShow(this.props.shown);return q;},receiveProps:function(n){this.updateBehaviors(n.behaviors);var o=this._getContextNode();if(n.contextBounds){this.layer.setContextWithBounds(o,n.contextBounds);}else this.layer.setContext(o);this._matchContextSize(n);this.layer.setPosition(n.position);this.layer.setAlignment(n.alignment);this.layer.setOffsetX(n.offsetX);this.layer.setOffsetY(n.offsetY);this.layer.conditionShow(n.shown);},_getContextNode:function(){var n;if(this.props.context){n=this.props.context.getDOMNode();}else if(this.props.contextRef)n=this.getNodeForOwnerRef(this.props.contextRef);return n;},_matchContextSize:function(n){var o=this._node,p=this._getContextNode();if(n.containerWidthMatchContext)j.set(o,'width',p.offsetWidth+'px');if(n.containerHeightMatchContext)j.set(o,'height',p.offsetHeight+'px');}});e.exports=m;});
__d("AbstractTextFieldMixin.react",["ReactPropTypes","React","Keys","cx","invariant","joinClasses","mergeInto"],function(a,b,c,d,e,f){var g=b('ReactPropTypes'),h=b('React'),i=b('Keys'),j=b('cx'),k=b('invariant'),l=b('joinClasses'),m=b('mergeInto'),n={propTypes:{value:g.string,placeholder:g.string,tabIndex:g.string,onBackspace:g.func,onBackTab:g.func,onBlur:g.func,onChange:g.func,onDownArrow:g.func,onEnter:g.func,onFocus:g.func,onKeyDown:g.func,onLeftArrow:g.func,onNoShiftEnter:g.func,onRightArrow:g.func,onShiftEnter:g.func,onShiftDownArrow:g.func,onShiftUpArrow:g.func,onTab:g.func,onUpArrow:g.func},getInitialState:function(){return {focused:false,value:this.props.defaultValue||''};},getValue:function(){return this.props.value!=null?''+this.props.value:this.state.value;},onInputKeyDown:function(o){var p=this.props,q=o.keyCode,r=o.shiftKey;if(q===i.BACKSPACE&&!r&&p.onBackspace){p.onBackspace(o);}else if(q===i.TAB&&!r&&p.onTab){p.onTab(o);}else if(q===i.TAB&&r&&p.onBackTab){p.onBackTab(o);}else if(q===i.UP){if(r){if(p.onShiftUpArrow)p.onShiftUpArrowAttempt(o);}else if(p.onUpArrow)p.onUpArrow(o);}else if(q===i.DOWN&&p.onDownArrow){if(r){if(p.onShiftDownArrow)p.onShiftDownArrow(o);}else if(p.onDownArrow)p.onDownArrow(o);}else if(q===i.LEFT&&p.onLeftArrow){p.onLeftArrow(o);}else if(q===i.RIGHT&&p.onRightArrow){p.onRightArrow(o);}else if(q===i.RETURN){if(p.onEnter)p.onEnter(o);if(r){if(p.onShiftEnter)p.onShiftEnter(o);}else if(p.onNoShiftEnter)p.onNoShiftEnter(o);}if(p.onKeyDown)p.onKeyDown(o);},onInputChange:function(o){if(this.props.onChange)this.props.onChange(o);this.setState({value:o.target.value});},focusInput:function(){this.getTextFieldDOM().focus();},blurInput:function(){this.getTextFieldDOM().blur();},onInputBlur:function(event){if(this.props.onBlur)this.props.onBlur(event);if(!event.isDefaultPrevented())this.setState({focused:false});},onInputFocus:function(event){if(this.props.onFocus)this.props.onFocus(event);if(!event.isDefaultPrevented())this.setState({focused:true});},getTextFieldDOM:function(){return this.refs[this.getTextFieldRef()].getDOMNode();},getTextFieldRef:function(){return 'textField';},setTextFieldPropsOn:function(o){m(o.props,{'aria-activedescendant':this.props['aria-activedescendant'],'aria-autocomplete':this.props['aria-autocomplete'],ref:this.getTextFieldRef(),onKeyDown:this.onInputKeyDown,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onChange:this.onInputChange,disabled:this.props.disabled,defaultValue:this.props.defaultValue,name:this.props.name,value:this.getValue(),id:this.props.id});return o;},render:function(){var o=null;if(!this.getValue()){var p=(("_58ai")+(this.state.focused?' '+"_58aj":''));o=h.DOM.span({className:p},this.props.placeholder);}var q=l(this.props.className,"_58ak");k(this.renderTextField);return (h.DOM.label({className:q},{placeholder:o,textField:this.renderTextField()}));}};e.exports=n;});
__d("SearchableTextInput.react",["AbstractTextFieldMixin.react","AbstractTextInput.react","Event","ReactPropTypes","React","getActiveElement","merge"],function(a,b,c,d,e,f){var g=b('AbstractTextFieldMixin.react'),h=b('AbstractTextInput.react'),i=b('Event'),j=b('ReactPropTypes'),k=b('React'),l=b('getActiveElement'),m=b('merge'),n=k.createClass({displayName:'SearchableTextInput',propTypes:m(g.propTypes,{queryString:j.string,searchSource:j.object,searchSourceOptions:j.object,onEntriesFound:j.func.isRequired,searchOnFocus:j.bool,onPaste:j.func,onFocus:j.func,onChange:j.func}),componentDidMount:function(){if(this.props.onPaste)i.listen(this.refs.input.getTextFieldDOM(),'paste',this.props.onPaste);},_onInputFocus:function(){this.props.searchSource.bootstrap();this.props.onFocus&&this.props.onFocus();if(this.props.searchOnFocus)this.props.searchSource.search(this.props.queryString,this._onSearchCallback,this.props.searchSourceOptions);},_onSearchCallback:function(o,p){if(this.props.queryString===p)this.props.onEntriesFound(o);},_onChange:function(event){this.props.onChange&&this.props.onChange(event);var o=event.target.value;setTimeout(function(){this.props.searchSource.search(o,this._onSearchCallback,this.props.searchSourceOptions);}.bind(this));},focusInput:function(){var o=this.getTextFieldDOM();if(l()===o){this._onInputFocus();}else o.offsetHeight&&o.focus();},blurInput:function(){var o=this.getTextFieldDOM();o.offsetHeight&&o.blur();},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM();},render:function(){return this.transferPropsTo(h({ref:"input",value:this.props.queryString||'',onFocus:this._onInputFocus,onChange:this._onChange}));}});e.exports=n;});
__d("TypeaheadNavigation",[],function(a,b,c,d,e,f){var g={moveUp:function(h,i,j){var k=h.indexOf(i),l=k==-1?h.length-1:k-1;j(l==-1?null:h[l]);},moveDown:function(h,i,j){var k=h.indexOf(i)+1;j(k==h.length?null:h[k]);}};e.exports=g;});
__d("TypeaheadView.react",["ReactPropTypes","React","cx"],function(a,b,c,d,e,f){var g=b('ReactPropTypes'),h=b('React'),i=b('cx'),j=h.createClass({displayName:'TypeaheadView',propTypes:{highlightedEntry:g.object,selectedEntry:g.object,entries:g.array.isRequired,Renderer:g.func.isRequired,extraRendererProps:g.object,queryString:g.string},_onSelect:function(k){if(this.props.onSelect)this.props.onSelect(k);},_onHighlight:function(k){this.props.onHighlight(k);},render:function(){var k=((!this.props.visible?"hidden_elem":'')),l=this.props.Renderer,m={highlightedEntry:this.props.highlightedEntry,selectedEntry:this.props.selectedEntry,entries:this.props.entries,onSelect:this._onSelect,onHighlight:this._onHighlight,onRenderHighlight:this.props.onRenderHighlight,queryString:this.props.queryString};if(this.props.extraRendererProps)for(var n in this.props.extraRendererProps)m[n]=this.props.extraRendererProps[n];var o=l(m);return (h.DOM.div({className:k},o));}});e.exports=j;});
__d("Typeahead.react",["AbstractTextFieldMixin.react","ContextualLayer.react","DOM","InputSelection","ReactPropTypes","React","ReactLayeredComponentMixin","SearchableTextInput.react","TypeaheadNavigation","TypeaheadView.react","cx","merge"],function(a,b,c,d,e,f){var g=b('AbstractTextFieldMixin.react'),h=b('ContextualLayer.react'),i=b('DOM'),j=b('InputSelection'),k=b('ReactPropTypes'),l=b('React'),m=b('ReactLayeredComponentMixin'),n=b('SearchableTextInput.react'),o=b('TypeaheadNavigation'),p=b('TypeaheadView.react'),q=b('cx'),r=b('merge'),s=10,t=l.createClass({displayName:'Typeahead',mixins:[m],propTypes:r(g.propTypes,{inputClassName:k.string,placeholder:k.string,queryString:k.string,searchSource:k.object.isRequired,searchSourceOptions:k.object,excludedEntries:k.object,presenter:k.object.isRequired,onSelectAttempt:k.func,autoHighlight:k.bool,showEntriesOnFocus:k.bool,selectOnBlur:k.bool,focusedOnInit:k.bool,hideViewWithEntries:k.bool,entriesWidthMatchContext:k.bool,selectedEntry:k.object,onTypeaheadVisibilityChanged:k.func,onPaste:k.func}),getDefaultProps:function(){return {selectOnBlur:false,hideViewWithEntries:true,entriesWidthMatchContext:true};},getInitialState:function(){return {highlightedEntry:null,isAutoHighlight:this.props.autoHighlight,activeDescendant:null,activeEntries:[],focused:!!this.props.focusedOnInit,viewIsVisible:!!this.props.focusedOnInit};},_onRenderHighlight:function(u){var v=i.getID(u);this.setState({activeDescendant:v});},_onEntriesFound:function(u){if(this.props.excludedEntries){var v=this.props.excludedEntries;u=u.filter(function(ca){return !v.hasOwnProperty(ca.getUniqueID());});}var w=this.props.presenter,x=typeof w.sortEntries=='function'?w.sortEntries(u):u,y=x.slice(0,w.maxEntries||s);if(!y.length){this.setState({activeDescendant:null,activeEntries:y,highlightedEntry:null,isAutoHighlight:this.props.autoHighlight});this._setViewIsVisible(false);return;}var z=this.state.highlightedEntry,aa=z&&y.indexOf(z)!==-1;if(!this.props.autoHighlight){this.setState({activeEntries:y,highlightedEntry:aa?z:null});this._setViewIsVisible(true);return;}var ba=this.state.isAutoHighlight;if(ba){z=y[0];}else{z=aa?z:y[0];ba=!aa;}this.setState({activeEntries:y,highlightedEntry:z,isAutoHighlight:ba});if(this.state.focused&&this.props.showEntriesOnFocus||this.props.queryString.length>0)this._setViewIsVisible(true);},_onInputFocus:function(){if((this.state.activeEntries.length&&this.state.queryString)||this.props.showEntriesOnFocus)this._setViewIsVisible(true);this.setState({focused:true});this.props.onFocus&&this.props.onFocus();},_onInputBlur:function(){if(this.props.hideViewWithEntries){this._setViewIsVisible(false);this.clearActiveEntries();}if(this.props.selectOnBlur&&this.state.highlightedEntry)this.props.onSelectAttempt(this.state.highlightedEntry);this.setState({focused:false});this.props.onBlur&&this.props.onBlur();},_onInputClick:function(){var u=this.getTextFieldDOM(),v=j.get(u);if(v.start==v.end)u.select();this.props.onClick&&this.props.onClick();},_onEnter:function(event){if(!this.state.viewIsVisible)return;if(!this.state.highlightedEntry){event.preventDefault();return;}if(this.props.hideViewWithEntries)this._setViewIsVisible(false);if(this.props.onSelectAttempt)this.props.onSelectAttempt(this.state.highlightedEntry);event.preventDefault();},_onTab:function(event){if(this.state.viewIsVisible&&this.props.onSelectAttempt&&this.state.highlightedEntry){if(this.props.hideViewWithEntries){this._setViewIsVisible(false);event.preventDefault();}this.props.onSelectAttempt(this.state.highlightedEntry);}},_onDownArrow:function(event){event.preventDefault();o.moveDown(this.state.activeEntries,this.state.highlightedEntry,this._setHighlight);},_onUpArrow:function(event){event.preventDefault();o.moveUp(this.state.activeEntries,this.state.highlightedEntry,this._setHighlight);},_setHighlight:function(u){this.setState({highlightedEntry:u,isAutoHighlight:!u});},_onInputChange:function(event){if(this.props.onChange)this.props.onChange(event);this._setViewIsVisible(this.state.focused&&(this.props.showEntriesOnFocus||event.target.value.length>0)&&this.state.activeEntries.length>0);},_onViewHighlight:function(u){this.setState({highlightedEntry:u,isAutoHighlight:false});},_getView:function(){return (p({Renderer:this.props.presenter.ViewRenderer,extraRendererProps:this.props.presenter.extraRendererProps,highlightedEntry:this.state.highlightedEntry,selectedEntry:this.props.selectedEntry,visible:this.state.viewIsVisible,onHighlight:this._onViewHighlight,onRenderHighlight:this._onRenderHighlight,onSelect:this.props.onSelectAttempt,entries:this.state.activeEntries,queryString:this.props.queryString}));},_setViewIsVisible:function(u){if(u!==this.state.viewIsVisible){this.props.onTypeaheadVisibilityChanged&&this.props.onTypeaheadVisibilityChanged(u);this.setState({viewIsVisible:u});}},componentWillReceiveProps:function(u){if(!u.queryString&&!this.props.showEntriesOnFocus)this.clearActiveEntries();},renderLayers:function(){if(!this.props.presenter.useLayer)return {};var u=null,v=null;if(this.props.context){u=this.props.context;}else v='input';return {typeaheadView:h({containerWidthMatchContext:this.props.entriesWidthMatchContext,contextRef:v,context:u,position:"below",shown:this.state.viewIsVisible,shouldSetARIAProperties:false},this._getView())};},render:function(){var u=n({'aria-activedescendant':this.state.activeDescendant,'aria-autocomplete':"list",ref:"input",className:this.props.inputClassName,queryString:this.props.queryString,placeholder:this.props.placeholder,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,searchOnFocus:!!this.props.showEntriesOnFocus,onEntriesFound:this._onEntriesFound,onBlur:this._onInputBlur,onFocus:this._onInputFocus,onChange:this._onInputChange,onDownArrow:this._onDownArrow,onUpArrow:this._onUpArrow,onTab:this._onTab,onEnter:this._onEnter,onBackspace:this.props.onBackspace,onPaste:this.props.onPaste,onClick:this._onInputClick}),v=null;if(!this.props.presenter.useLayer)v=this._getView();return this.transferPropsTo(l.DOM.span({className:"_58ah"},{searchableInput:u,view:v}));},componentDidMount:function(){if(this.props.focusedOnInit)this.refs.input.focusInput();},clearActiveEntries:function(){this.setState({activeDescendant:null,activeEntries:[],highlightedEntry:null});},focusInput:function(){this.refs.input.focusInput();},blurInput:function(){this.refs.input.blur();},getTextFieldDOM:function(){return this.refs.input.getTextFieldDOM();}});e.exports=t;});
__d("TypeaheadViewItem",["ReactPropTypes","SearchableEntry"],function(a,b,c,d,e,f){var g=b('ReactPropTypes'),h=b('SearchableEntry'),i={entry:g.instanceOf(h).isRequired,highlighted:g.bool,selected:g.bool,onSelect:g.func.isRequired,onHighlight:g.func,onRenderHighlight:g.func},j={_onSelect:function(k){this.props.onSelect(this.props.entry,k);},_onHighlight:function(k){if(this.props.onHighlight)this.props.onHighlight(this.props.entry,k);},shouldComponentUpdate:function(k){return (this.props.entry.getUniqueID()!==k.entry.getUniqueID()||this.props.highlighted!==k.highlighted||this.props.selected!==k.selected);},componentDidMount:function(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(this.getDOMNode());},componentDidUpdate:function(){if(this.props.highlighted&&this.props.onRenderHighlight)this.props.onRenderHighlight(this.getDOMNode());}};e.exports={propTypes:i,Mixin:j};});
__d("XUITypeaheadTextOnlyView.react",["ReactPropTypes","React","TypeaheadViewItem","cx"],function(a,b,c,d,e,f){var g=b('ReactPropTypes'),h=b('React'),i=b('TypeaheadViewItem'),j=b('cx'),k=h.createClass({displayName:'XUITypeaheadTextOnlyViewItem',mixins:[i.Mixin],propTypes:i.propTypes,render:function(){var m=this.props.entry,n=(("_599m")+(this.props.highlighted?' '+"_599n":''));return (h.DOM.li({key:m.getUniqueID(),className:n,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},h.DOM.div({className:"_599p"},m.getTitle())));}}),l=h.createClass({displayName:'XUITypeaheadTextOnlyView',propTypes:{highlightedEntry:g.object,entries:g.array.isRequired,onSelect:g.func.isRequired,onHighlight:g.func.isRequired,onRenderHighlight:g.func},_renderItem:function(m){var n=m===this.props.highlightedEntry;return (k({entry:m,highlighted:n,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var m=(("_599r")+(!this.props.entries.length?' '+"_599s":''));return (h.DOM.ul({className:m},this.props.entries.map(this._renderItem)));}});e.exports=l;});
__d("XUITypeaheadView.react",["BackgroundImage.react","ImageBlock.react","ReactPropTypes","React","TypeaheadViewItem","cx"],function(a,b,c,d,e,f){var g=b('BackgroundImage.react'),h=b('ImageBlock.react'),i=b('ReactPropTypes'),j=b('React'),k=b('TypeaheadViewItem'),l=b('cx'),m=j.createClass({displayName:'XUITypeaheadViewItem',mixins:[k.Mixin],propTypes:k.propTypes,render:function(){var o=this.props.entry,p=o.getSubtitle().split(' \u00b7 ')[0],q=p?j.DOM.div({className:"_599q"},p):null,r=o.getPhoto()?g({width:32,height:32,backgroundSize:"cover",src:o.getPhoto()}):j.DOM.span(null),s=(("_599m")+(!q?' '+"_5mne":'')+(this.props.highlighted?' '+"_599n":''));return (j.DOM.li({className:s,onMouseDown:this._onSelect,onMouseEnter:this._onHighlight},h({spacing:"medium"},r,j.DOM.div(null,j.DOM.div({className:"_599p"},o.getTitle()),q))));}}),n=j.createClass({displayName:'XUITypeaheadView',propTypes:{highlightedEntry:i.object,entries:i.array.isRequired,onSelect:i.func.isRequired,onHighlight:i.func,onRenderHighlight:i.func},_renderItem:function(o){var p=o===this.props.highlightedEntry;return (m({key:o.getUniqueID(),entry:o,highlighted:p,onSelect:this.props.onSelect,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight}));},render:function(){var o=(("_599r")+(!this.props.entries.length?' '+"_599s":''));return (j.DOM.ul({className:o},this.props.entries.map(this._renderItem)));}});e.exports=n;});
__d("XUITypeahead.react",["ReactPropTypes","React","Typeahead.react","XUITypeaheadTextOnlyView.react","XUITypeaheadView.react","cx"],function(a,b,c,d,e,f){var g=b('ReactPropTypes'),h=b('React'),i=b('Typeahead.react'),j=b('XUITypeaheadTextOnlyView.react'),k=b('XUITypeaheadView.react'),l=b('cx'),m={ViewRenderer:k,useLayer:true},n={ViewRenderer:j,useLayer:true},o=h.createClass({displayName:'XUITypeahead',propTypes:{autoHighlight:g.bool,maxEntries:g.number,onBlur:g.func,onChange:g.func.isRequired,onFocus:g.func,onSelectAttempt:g.func.isRequired,placeholder:g.string,queryString:g.string,searchSource:g.object.isRequired,searchSourceOptions:g.object,selectOnBlur:g.bool,showEntriesOnFocus:g.bool,focusedOnInit:g.bool,tallInput:g.bool,viewStyle:g.oneOf(['textonly','rich'])},getDefaultProps:function(){return {viewStyle:'rich'};},componentWillMount:function(){if(this.props.maxEntries)m.maxEntries=n.maxEntries=this.props.maxEntries;},focusInput:function(){this.refs.typeahead.focusInput();},render:function(){var p=(("_55r1")+(!!this.props.tallInput?' '+"_55r2":'')),q=this.props.viewStyle=='rich'?m:n;return (i({className:this.props.className,inputClassName:p,queryString:this.props.queryString,placeholder:this.props.placeholder,ref:"typeahead",searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,presenter:q,autoHighlight:this.props.autoHighlight,showEntriesOnFocus:this.props.showEntriesOnFocus,focusedOnInit:this.props.focusedOnInit,onSelectAttempt:this.props.onSelectAttempt,selectOnBlur:this.props.selectOnBlur,onChange:this.props.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,excludedEntries:this.props.excludedEntries}));}});e.exports=o;});
__d("OrderedMap",["invariant","mixInto"],function(a,b,c,d,e,f){"use strict";var g=b('invariant'),h=b('mixInto'),i='key:';function j(q,r){var s={};for(var t=0;t<q.length;t++){var u=q[t],v=r(u);l(v);var w=i+v;g(!(w in s));s[w]=u;}return s;}function k(q,r){this._normalizedObj=q;this._computedPositions=null;this.length=r;}function l(q){g(q!==''&&(typeof q==='string'||typeof q==='number'));}function m(q,r,s){g(typeof q==='number'&&typeof r==='number'&&r>=0&&q>=0&&q+r<=s);}function n(q,r){g(q&&q.constructor===Object&&(!r||r.constructor===Object));var s={},t=0,u;for(u in q)if(q.hasOwnProperty(u)){s[u]=q[u];t++;}for(u in r)if(r.hasOwnProperty(u)){if(!(u in s))t++;s[u]=r[u];}return new k(s,t);}var o={has:function(q){l(q);var r=i+q;return r in this._normalizedObj;},get:function(q){l(q);var r=i+q;return this.has(q)?this._normalizedObj[r]:undefined;},merge:function(q){g(q instanceof k);return n(this._normalizedObj,q._normalizedObj);},map:function(q,r){return this.mapRange(q,0,this.length,r);},mapRange:function(q,r,s,t){var u=this._normalizedObj,v={},w=0;m(r,s,this.length);var x=r+s-1;for(var y in u)if(u.hasOwnProperty(y)){if(w>=r){if(w>x)break;var z=u[y];v[y]=q.call(t,z,y.substr(i.length),w);}w++;}return new k(v,s);},filter:function(q,r){return this.filterRange(q,0,this.length,r);},filterRange:function(q,r,s,t){var u={},v=0;this.forEachRange(function(w,x,y){if(q.call(t,w,x,y)){var z=i+x;u[z]=w;v++;}},r,s);return new k(u,v);},forEach:function(q,r){this.forEachRange(q,0,this.length,r);},forEachRange:function(q,r,s,t){m(r,s,this.length);var u=this._normalizedObj,v=0,w=r+s-1;for(var x in u)if(u.hasOwnProperty(x)){if(v>=r){if(v>w)break;var y=u[x];q.call(t,y,x.substr(i.length),v);}v++;}},mapKeyRange:function(q,r,s,t){var u=this.indexOfKey(r),v=this.indexOfKey(s);g(u!==undefined&&v!==undefined);g(v>=u);return this.mapRange(q,u,(v-u)+1,t);},forEachKeyRange:function(q,r,s,t){var u=this.indexOfKey(r),v=this.indexOfKey(s);g(u!==undefined&&v!==undefined);g(v>=u);this.forEachRange(q,u,(v-u)+1,t);},keyAtIndex:function(q){var r=this._getOrComputePositions(),s=r.keyByIndex[q];return s?s.substr(i.length):undefined;},keyAfter:function(q){return this.nthKeyAfter(q,1);},keyBefore:function(q){return this.nthKeyBefore(q,1);},nthKeyAfter:function(q,r){var s=this.indexOfKey(q);g(s!==undefined);return this.keyAtIndex(s+r);},nthKeyBefore:function(q,r){return this.nthKeyAfter(q,-r);},indexOfKey:function(q){l(q);var r=i+q,s=this._getOrComputePositions(),t=s.indexByKey[r];return t===undefined?undefined:t;},toArray:function(){var q=[],r=this._normalizedObj;for(var s in r)if(r.hasOwnProperty(s))q.push(r[s]);return q;},_getOrComputePositions:function(){var q=this._computedPositions;if(!q)this._computePositions();return this._computedPositions;},_computePositions:function(){this._computedPositions={keyByIndex:{},indexByKey:{}};var q=this._computedPositions.keyByIndex,r=this._computedPositions.indexByKey,s=0,t=this._normalizedObj;for(var u in t)if(t.hasOwnProperty(u)){q[s]=u;r[u]=s;s++;}}};h(k,o);var p={from:function(q){g(q instanceof k);return n(q._normalizedObj,null);},fromArray:function(q,r){g(Array.isArray(q));g(typeof r==='function');return new k(j(q,r),q.length);}};e.exports=p;});
__d("requiredIfPropIsTruthy",["invariant"],function(a,b,c,d,e,f){var g=b('invariant');function h(i,j){return function(k,l,m){if(!k[i])return;g(k[l]!==undefined);j(k,l,m);};}e.exports=h;});
__d("TimelineChecklistMixin",["OrderedMap","ReactPropTypes","Style","requiredIfPropIsTruthy","startsWith"],function(a,b,c,d,e,f){var g=b('OrderedMap'),h=b('ReactPropTypes'),i=b('Style'),j=b('requiredIfPropIsTruthy'),k=b('startsWith');function l(n){if(!k(n,'rgba'))return false;var o=n.split(',');return o.length===4&&parseFloat(o[3])===0;}var m={propTypes:{baseName:h.string.isRequired,fetchOnScroll:h.bool,imageSize:h.number,multiSelect:h.bool,onChange:h.func,options:h.array,overflow:h.oneOf(['scroll','show']),pagerEndpoint:j('showPager',h.string),pagerPlaceholder:j('showPager',h.string),showPager:h.bool},getDefaultProps:function(){return {overflow:'show'};},clearSelection:function(){this._uncheckAllOptions();},addOption:function(n,o,p,q,r,s){!this.props.multiSelect&&this._uncheckAllOptions();var t=g.fromArray([{id:n,title:o,subtitle:p,image:q,checked:!!r,name:s}],function(u){return u.id;});this.setState({options:this.state.options.merge(t)});},getSelection:function(){var n={};this.state.options.forEach(function(o,p){if(o.checked)n[p]=o;});return n;},getInitialState:function(){var n=g.fromArray(this.props.options,function(o){return o.id;});return {options:n,showPager:this.props.showPager};},_blurHandler:function(event){this.state.options.get(event.target.value).focused=false;this.setState({options:this.state.options});},_changeHandler:function(event){var n=event.target;!this.props.multiSelect&&this._uncheckAllOptions();this.state.options.get(n.value).checked=n.checked;this.setState({options:this.state.options});this.props.onChange&&this.props.onChange();},_exhaustionHandler:function(){this.setState({showPager:false});},_fetchHandler:function(n){var o=n.options;if(o.length>0){var p=this.state.options.merge(g.fromArray(o,function(q){return q.id;}));this.setState({options:p});}else this.setState({showPager:false});},_focusHandler:function(event){this.setState({options:this.state.options.map(function(n,o){n.focused=o===event.target.value;return n;})});},_getBackgroundColor:function(){var n=this.refs.fieldset.getDOMNode();while(n){var o=i.get(n,'backgroundColor');if(!l(o))return o;n=n.parentElement;}return null;},_uncheckAllOptions:function(){this.setState({options:this.state.options.map(function(n){n.checked=false;return n;})});}};e.exports=m;});
__d("AbstractSearchSource",["emptyFunction","mixInto"],function(a,b,c,d,e,f){var g=b('emptyFunction'),h=b('mixInto');function i(){}var j={bootstrap:function(k){if(!this._bootstrapped){this._bootstrapped=true;this.bootstrapImpl(k||g);}},search:function(k,l,m){this.searchImpl(k,l,m);},bootstrapImpl:function(k){k();},searchImpl:function(k,l,m){throw new Error('Abstract method #searchImpl is not implemented.');}};h(i,j);i.Mixin=j;e.exports=i;});
__d("SearchSourceCallbackManager",["createObjectFrom","invariant"],function(a,b,c,d,e,f){var g=b('createObjectFrom'),h=b('invariant');function i(k){"use strict";this.$SearchSourceCallbackManager0=k.parseFn;h(typeof this.$SearchSourceCallbackManager0==='function');this.$SearchSourceCallbackManager1=k.matchFn;h(typeof this.$SearchSourceCallbackManager1==='function');this.$SearchSourceCallbackManager2=k.alwaysPrefixMatch||false;this.$SearchSourceCallbackManager3=k.indexFn||j;this.reset();}i.prototype.search=function(k,l,m){"use strict";var n=this.$SearchSourceCallbackManager4(k,l,m);if(n)return 0;this.$SearchSourceCallbackManager5.push({queryString:k,callback:l,options:m});var o=this.$SearchSourceCallbackManager5.length-1;this.$SearchSourceCallbackManager6.push(o);return o;};i.prototype.$SearchSourceCallbackManager4=function(k,l,m){"use strict";var n=this.$SearchSourceCallbackManager7(k),o=!!this.$SearchSourceCallbackManager8[k];if(!n.length){l([],k);return o;}var p=n.map(function(q){return this.$SearchSourceCallbackManager9[q];},this);l(p,k);return o;};i.prototype.$SearchSourceCallbackManagera=function(){"use strict";var k=this.$SearchSourceCallbackManager6;this.$SearchSourceCallbackManager6=[];k.forEach(this.$SearchSourceCallbackManagerb,this);};i.prototype.$SearchSourceCallbackManagerb=function(k){"use strict";var l=this.$SearchSourceCallbackManager5[k];if(!l)return;var m=this.$SearchSourceCallbackManager4(l.queryString,l.callback,l.options);if(m){delete this.$SearchSourceCallbackManager5[k];return;}this.$SearchSourceCallbackManager6.push(k);};i.prototype.reset=function(){"use strict";this.$SearchSourceCallbackManager9={};this.$SearchSourceCallbackManagerc={};this.$SearchSourceCallbackManagerd={};this.$SearchSourceCallbackManagere={};this.$SearchSourceCallbackManager8={};this.$SearchSourceCallbackManager6=[];this.$SearchSourceCallbackManager5=[undefined];};i.prototype.addLocalEntries=function(k){"use strict";k.forEach(function(l){var m=l.getUniqueID(),n=this.$SearchSourceCallbackManager3(l);this.$SearchSourceCallbackManager9[m]=l;this.$SearchSourceCallbackManagerc[m]=n;var o=this.$SearchSourceCallbackManager0(n);o.tokens.forEach(function(p){if(!this.$SearchSourceCallbackManagerd.hasOwnProperty(p))this.$SearchSourceCallbackManagerd[p]={};this.$SearchSourceCallbackManagerd[p][m]=true;},this);},this);this.$SearchSourceCallbackManagera();};i.prototype.addQueryEntries=function(k,l){"use strict";var m=this.$SearchSourceCallbackManager7(l),n=this.$SearchSourceCallbackManager0(l).flatValue;this.$SearchSourceCallbackManagere[n]=g(m,true);k.forEach(function(o){var p=o.getUniqueID();this.$SearchSourceCallbackManager9[p]=o;this.$SearchSourceCallbackManagerc[p]=this.$SearchSourceCallbackManager3(o);this.$SearchSourceCallbackManagere[n][p]=true;},this);this.$SearchSourceCallbackManagera();};i.prototype.unsubscribe=function(k){"use strict";delete this.$SearchSourceCallbackManager5[k];};i.prototype.removeEntry=function(k){"use strict";delete this.$SearchSourceCallbackManager9[k];};i.prototype.getAllEntriesMap=function(){"use strict";return this.$SearchSourceCallbackManager9;};i.prototype.setQueryStringAsExhausted=function(k){"use strict";this.$SearchSourceCallbackManager8[k]=true;};i.prototype.unsetQueryStringAsExhausted=function(k){"use strict";delete this.$SearchSourceCallbackManager8[k];};i.prototype.$SearchSourceCallbackManager7=function(k){"use strict";var l=this.$SearchSourceCallbackManagerf(k,this.$SearchSourceCallbackManagerg(k)),m=this.$SearchSourceCallbackManagerf(k,this.$SearchSourceCallbackManagerh(k)),n=l.concat(m),o={},p=[];n.forEach(function(q){if(!o[q]&&this.$SearchSourceCallbackManager9[q]!==undefined){p.push(q);o[q]=true;}},this);return p;};i.prototype.$SearchSourceCallbackManagerf=function(k,l){"use strict";var m=this.$SearchSourceCallbackManageri(k,l),n=this.$SearchSourceCallbackManager9;function o(p,q){if(m[p]!==m[q])return m[p]?-1:1;var r=n[p],s=n[q];if(r.getOrder()!==s.getOrder())return r.getOrder()-s.getOrder();var t=r.getTitle().length,u=s.getTitle().length;if(t!==u)return t-u;return r.getUniqueID()-s.getUniqueID();}return l.sort(o).slice();};i.prototype.$SearchSourceCallbackManageri=function(k,l){"use strict";var m={};l.forEach(function(n){m[n]=this.$SearchSourceCallbackManager1(k,this.$SearchSourceCallbackManagerc[n]);},this);return m;};i.prototype.$SearchSourceCallbackManagerg=function(k){"use strict";var l=this.$SearchSourceCallbackManager0(k,this.$SearchSourceCallbackManager2),m=this.$SearchSourceCallbackManager2?l.sortedTokens:l.tokens,n=m.length,o=l.isPrefixQuery?n-1:null,p={},q={},r={},s=false,t={},u=0;m.forEach(function(w,x){if(t.hasOwnProperty(w))return;u++;t[w]=true;for(var y in this.$SearchSourceCallbackManagerd){var z=(y===w&&!p.hasOwnProperty(y)),aa=false;if(!z)aa=((this.$SearchSourceCallbackManager2||o===x)&&y.indexOf(w)===0);if(!z&&!aa)continue;if(y===w){if(q.hasOwnProperty(y))s=true;p[y]=true;}else{if(p.hasOwnProperty(y)||q.hasOwnProperty(y))s=true;q[y]=true;}for(var ba in this.$SearchSourceCallbackManagerd[y])if(x===0||(r.hasOwnProperty(ba)&&r[ba]==u-1))r[ba]=u;}},this);var v=Object.keys(r).filter(function(w){return r[w]==u;});if(s||u<n)v=this.$SearchSourceCallbackManagerj(k,v);return v;};i.prototype.$SearchSourceCallbackManagerh=function(k){"use strict";var l=this.$SearchSourceCallbackManager0(k).flatValue,m=this.$SearchSourceCallbackManagerk(l);if(this.$SearchSourceCallbackManagere.hasOwnProperty(l))return m;return this.$SearchSourceCallbackManagerj(k,m);};i.prototype.$SearchSourceCallbackManagerk=function(k){"use strict";var l=0,m=null,n=this.$SearchSourceCallbackManagere;Object.keys(n).forEach(function(o){if(k.indexOf(o)===0&&o.length>l){l=o.length;m=o;}});return (n.hasOwnProperty(m)?Object.keys(n[m]):[]);};i.prototype.$SearchSourceCallbackManagerj=function(k,l){"use strict";return l.filter(function(m){return this.$SearchSourceCallbackManager1(k,this.$SearchSourceCallbackManagerc[m]);},this);};function j(k){return [k.getTitle(),k.getKeywordString()].join(' ');}e.exports=i;});
__d("TimelineChecklistPager.react",["AsyncRequest","ReactPropTypes","React","XUIText.react","cx"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('ReactPropTypes'),i=b('React'),j=b('XUIText.react'),k=b('cx'),l=i.createClass({displayName:'TimelineChecklistPager',props:{endpoint:h.string.isRequired,onExhaustion:h.func.isRequired,onFetch:h.func,placeholder:h.string.isRequired},fetchMore:function(){if(this.state.loading||!this.state.endpoint)return;this.setState({loading:true});(new g()).setURI(this.state.endpoint).setHandler(this._fetchHandler).send();},getInitialState:function(){return {endpoint:this.props.endpoint,loading:false};},render:function(){var m=(("_5ueb")+(this.state.loading?' '+"_5ued":''));return (i.DOM.div({className:m,onClick:this._clickHandler},j({size:"small",weight:"bold"},this.props.placeholder),i.DOM.div({className:"_5uec"})));},_clickHandler:function(event){this.fetchMore();},_fetchHandler:function(m){var n=m.getPayload();this.setState({endpoint:n.endpoint,loading:false});this.props.onFetch&&this.props.onFetch(n);!n.endpoint&&this.props.onExhaustion();}});e.exports=l;});
__d("TimelineChecklist.react",["Animation","React","TimelineChecklistMixin","Vector","Image.react","TimelineChecklistPager.react","XUIText.react","cx","endsWith","highlight","throttle"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('React'),i=b('TimelineChecklistMixin'),j=b('Vector'),k=b('Image.react'),l=b('TimelineChecklistPager.react'),m=b('XUIText.react'),n=b('cx'),o=b('endsWith'),p=b('highlight'),q=b('throttle'),r=250,s=100,t=125,u=h.createClass({displayName:'TimelineChecklist',mixins:[i],render:function(){var v=[];this.state.options.forEach(function(z,aa){var ba=z.name||this.props.baseName;if(this.props.multiSelect&&!o(ba,'[]'))ba+='['+aa+']';var ca=null;if(z.image)ca=k({alt:z.title,className:"_5jou",height:this.props.imageSize,src:z.image,width:this.props.imageSize});var da=null;if(z.subtitle)da=h.DOM.span({className:"_5j7d"},z.subtitle);var ea=(("_5nc6")+(z.checked?' '+"_5j7f":'')+(z.focused?' '+"_5j7g":''));v.push(h.DOM.label({className:ea,key:aa,ref:aa},ca,h.DOM.span({className:"_5p4v"},m({className:"_5j7h",size:"small",weight:"bold"},z.title),da),h.DOM.span({className:"_5j7i"}),h.DOM.input({checked:z.checked,className:"_5j7j",name:ba,onBlur:this._blurHandler,onChange:this._changeHandler,onFocus:this._focusHandler,type:"checkbox",value:aa})));},this);var w=null;if(this.state.showPager)w=l({endpoint:this.props.pagerEndpoint,onExhaustion:this._exhaustionHandler,onFetch:this._fetchHandler,placeholder:this.props.pagerPlaceholder,ref:"pager"});var x=this.props.overflow==='scroll',y=((x?"_5ug_":'')+(x?' '+"scrollable":''));return this.transferPropsTo(h.DOM.div({ref:"container",className:y,onScroll:q(this._scrollHandler,t)},h.DOM.fieldset({className:"_5w1a",ref:"fieldset"},v,w)));},scrollToBottom:function(){this._scrollTo(this.refs.container.getDOMNode().scrollHeight);},scrollToOption:function(v){if(!this.state.options.has(v))return;var w=this.refs.container.getDOMNode(),x=this.refs[v].getDOMNode(),y=x.offsetTop+x.offsetHeight,z=w.scrollTop+w.offsetHeight,aa=function(){var ba=this._getBackgroundColor();ba&&p(x,null,ba);}.bind(this);if(x.offsetTop<w.scrollTop){this._scrollTo(x.offsetTop-1,aa);}else if(y>z){this._scrollTo(y-w.offsetHeight,aa);}else{aa();return;}},_scrollHandler:function(){if(!this.props.fetchOnScroll||!this.state.showPager)return;var v=this.refs.container.getDOMNode(),w=j.getElementDimensions(v).y,x=v.scrollHeight-v.scrollTop-w;x>r||this.refs.pager.fetchMore();},_scrollTo:function(v,w){new g(this.refs.container.getDOMNode()).to('scrollTop',v).ease(g.ease.end).duration(s).ondone(function(){w&&w();}).go();}});e.exports=u;});
__d("TimelineSingleTypeahead.react",["DOM","ReactPropTypes","React","CloseButton.react","XUITypeahead.react","csx","cx","tx"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('ReactPropTypes'),i=b('React'),j=b('CloseButton.react'),k=b('XUITypeahead.react'),l=b('csx'),m=b('cx'),n=b('tx'),o=i.createClass({displayName:'TimelineSingleTypeahead',propTypes:{onBlur:h.func,onChange:h.func,onFocus:h.func,onSelectAttempt:h.func,placeholder:h.string,queryName:h.string,requireSelection:h.bool,searchSource:h.object.isRequired,selectionName:h.string,selectOnBlur:h.bool,showEntriesOnFocus:h.bool,tallInput:h.bool},getDefaultProps:function(){return {requireSelection:false,selectionName:'selected_id',queryName:'query'};},componentDidUpdate:function(){var p=this._getTextInputNode(),q=p.scrollWidth>p.clientWidth;if(this.state.useMask!==q)this.setState({useMask:q});},getInitialState:function(){return {queryString:'',selectedEntry:null,useMask:false};},render:function(){var p=this.state.selectedEntry,q=this.state.queryString,r=null;if(this.state.useMask)r=i.DOM.div({className:"_5rrw"});var s=null;if(p)s=j({'aria-label':n._("Remove {item}",{item:p.getTitle()}),className:"_5rrv",onClick:this._clearButtonClickHandler,size:"small"});var t=null;if(p){t=i.DOM.input({name:this.props.selectionName,type:"hidden",value:p.getUniqueID()});}else if(q)t=i.DOM.input({name:this.props.queryName,type:"hidden",value:q});var u=(("_5rru")+(this.props.tallInput?' '+"_5rrx":'')+(!!p?' '+"_5rry":''));return (i.DOM.div({className:u},k({onBlur:this._blurHandler,onChange:this._changeHandler,onFocus:this.props.onFocus,onSelectAttempt:this._selectHandler,placeholder:this.props.placeholder,queryString:p?p.getTitle():q,ref:"typeahead",selectOnBlur:this.props.selectOnBlur,searchSource:this.props.searchSource,showEntriesOnFocus:this.props.showEntriesOnFocus,tallInput:this.props.tallInput}),r,s,t));},clearSelection:function(){this.setState({queryString:'',selectedEntry:null});},_blurHandler:function(){if(this.props.requireSelection&&!this.state.selectedEntry)this.clearSelection();},_changeHandler:function(event){this.setState({queryString:event.target.value,selectedEntry:null});this.props.onChange&&this.props.onChange(event);},_selectHandler:function(p){this.setState({selectedEntry:p});this.props.onSelectAttempt&&this.props.onSelectAttempt(p);},_clearButtonClickHandler:function(event){this.clearSelection();var p=this._getTextInputNode();setTimeout(p.focus.bind(p),0);},_getTextInputNode:function(){return g.find(this.refs.typeahead.getDOMNode(),"._58al");}});e.exports=o;});
__d("TimelineTypeaheadContainer.react",["React","cx"],function(a,b,c,d,e,f){var g=b('React'),h=b('cx'),i=g.createClass({displayName:'TimelineTypeaheadContainer',render:function(){return (g.DOM.div({className:"_5w1b"},this.props.children));}});e.exports=i;});
__d("TimelineTypeaheadChecklist.react",["ReactPropTypes","React","TimelineChecklist.react","TimelineSingleTypeahead.react","TimelineTypeaheadContainer.react","XUITypeahead.react","invariant"],function(a,b,c,d,e,f){var g=b('ReactPropTypes'),h=b('React'),i=b('TimelineChecklist.react'),j=b('TimelineSingleTypeahead.react'),k=b('TimelineTypeaheadContainer.react'),l=b('XUITypeahead.react'),m=b('invariant'),n=h.createClass({displayName:'TimelineTypeaheadChecklist',propTypes:{baseName:g.string.isRequired,excludedEntries:g.object,fetchOnScroll:g.bool,imageSize:g.number,multiSelect:g.bool,options:g.array,overflow:g.oneOf(['show','scroll']),pagerEndpoint:g.string,pagerPlaceholder:g.string,placeholder:g.string.isRequired,requireSelection:g.bool,searchSource:g.object.isRequired,showPager:g.bool,typeaheadName:g.string,queryName:function(o,p,q){if(!o.multiSelect)m(o[p]);}},getDefaultProps:function(){return {overflow:'scroll'};},getInitialState:function(){return {queryString:''};},render:function(){var o=null;if(this.props.multiSelect){o=l({excludedEntries:this.props.excludedEntries,onBlur:this._typeaheadBlurHandler,onChange:this._typeaheadChangeHandler,onSelectAttempt:this._selectHandler,placeholder:this.props.placeholder,searchSource:this.props.searchSource,queryString:this.state.queryString});}else o=j({ref:"singleTypeahead",onSelectAttempt:this._selectHandler,placeholder:this.props.placeholder,requireSelection:this.props.requireSelection,searchSource:this.props.searchSource,selectionName:this.props.typeaheadName,queryName:this.props.queryName});return (h.DOM.div(null,i({onChange:this._checklistChangeHandler,baseName:this.props.baseName,fetchOnScroll:this.props.fetchOnScroll,imageSize:this.props.imageSize,multiSelect:this.props.multiSelect,options:this.props.options,overflow:this.props.overflow,pagerEndpoint:this.props.pagerEndpoint,pagerPlaceholder:this.props.pagerPlaceholder,ref:"checklist",showPager:this.props.showPager}),k(null,o)));},_checklistChangeHandler:function(){this.refs.singleTypeahead&&this.refs.singleTypeahead.clearSelection();},_selectHandler:function(o){if(!o)return;if(!this.props.multiSelect){this.refs.checklist.clearSelection();return;}this.refs.checklist.addOption(o.getUniqueID(),o.getTitle(),o.getSubtitle(),o.getPhoto(),true,this.props.typeaheadName);this.setState({queryString:''});var p=this.refs.checklist;setTimeout(function(){p.scrollToOption(o.getUniqueID());},0);},_typeaheadBlurHandler:function(){this.props.requireSelection&&this.setState({queryString:''});},_typeaheadChangeHandler:function(event){this.setState({queryString:event.target.value});}});e.exports=n;});
__d("WebAsyncSearchSource",["AbstractSearchSource","AsyncRequest","SearchSourceCallbackManager","SearchableEntry","TokenizeUtil","copyProperties"],function(a,b,c,d,e,f){var g=b('AbstractSearchSource'),h=b('AsyncRequest'),i=b('SearchSourceCallbackManager'),j=b('SearchableEntry'),k=b('TokenizeUtil'),l=b('copyProperties');for(var m in g)if(g.hasOwnProperty(m))o[m]=g[m];var n=g===null?null:g.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=g;function o(p){"use strict";this.$WebAsyncSearchSource0=p.bootstrapRequests;this.$WebAsyncSearchSource1=p.queryRequests;this.$WebAsyncSearchSource2=p.auxiliaryFields;this.$WebAsyncSearchSource3=[];this.$WebAsyncSearchSource4=new i({parseFn:k.parse,matchFn:k.isQueryMatch,indexFn:p.indexFn});}o.prototype.bootstrapImpl=function(p){"use strict";if(!this.$WebAsyncSearchSource0||!this.$WebAsyncSearchSource0.length){p();return;}var q=this.$WebAsyncSearchSource0.length,r=0;this.$WebAsyncSearchSource0.forEach(function(s){this.$WebAsyncSearchSource5({},s,function(t){var u=this.$WebAsyncSearchSource6(t);this.$WebAsyncSearchSource4.addLocalEntries(u);this.$WebAsyncSearchSource3=this.$WebAsyncSearchSource3.concat(u);r++;if(r===q){p();p=null;}}.bind(this));},this);};o.prototype.searchImpl=function(p,q,r){"use strict";var s=null,t={},u=this.$WebAsyncSearchSource4.search(p,function(x){if(!s){s=x;s.forEach(function(y){t[y.getUniqueID()]=true;});}else x.forEach(function(y){var z=y.getUniqueID();if(!t[z]){s.push(y);t[z]=true;}});q(s,p);},r);if(!u||!this.$WebAsyncSearchSource1||!this.$WebAsyncSearchSource1.length)return;var v={value:p,existing_ids:s&&s.map(function(x){return x.getUniqueID();}).join(',')},w=this.$WebAsyncSearchSource1.length;this.$WebAsyncSearchSource1.forEach(function(x){this.$WebAsyncSearchSource5(v,x,function(y){this.$WebAsyncSearchSource7(y,p);w--;if(!w)this.$WebAsyncSearchSource4.setQueryStringAsExhausted(p);}.bind(this));},this);};o.prototype.getBootstrappedEntries=function(){"use strict";return this.$WebAsyncSearchSource3;};o.prototype.getAllEntriesMap=function(){"use strict";return this.$WebAsyncSearchSource4.getAllEntriesMap();};o.prototype.$WebAsyncSearchSource5=function(p,q,r){"use strict";new h(q.uri).setData(l({},p,q.data)).setMethod('GET').setReadOnly(true).setHandler(r).send();};o.prototype.$WebAsyncSearchSource6=function(p){"use strict";var q=p.getPayload().entries||[];return q.map(this.$WebAsyncSearchSource8.bind(this));};o.prototype.$WebAsyncSearchSource9=function(p){"use strict";this.$WebAsyncSearchSource4.addLocalEntries(this.$WebAsyncSearchSource6(p));};o.prototype.$WebAsyncSearchSource7=function(p,q){"use strict";var r=this.$WebAsyncSearchSource6(p);if(r.length)this.$WebAsyncSearchSource4.addQueryEntries(r,q);};o.prototype.$WebAsyncSearchSource8=function(p,q){"use strict";return new j({uniqueID:p.uniqueID||p.uid,order:p.index||q,title:p.title||p.text,subtitle:p.subtitle||p.category||p.subtext,keywordString:p.keywordString||p.tokens,type:p.type,photo:p.photo,uri:p.path,auxiliaryData:this.$WebAsyncSearchSourcea(p)});};o.prototype.$WebAsyncSearchSourcea=function(p){"use strict";var q;if(this.$WebAsyncSearchSource2){q={};for(var r in this.$WebAsyncSearchSource2){var s=this.$WebAsyncSearchSource2[r];q[r]=p[s];}}if(p.aux_data){q=q||{};l(q,p.aux_data);}return q;};e.exports=o;});