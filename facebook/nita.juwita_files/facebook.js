(function(){function bw(cA){var cB=new function(){function cC(cE,cH){var cG=this;for(var cF=0;cF<2;cF++){var cE=arguments[cF],cD=cE?cE.length:0;while(cD--){var cI=cE[cD];this[cI]=(function(cK,cJ){return function(){var cN=arguments,cM=[],cL=cN.length;while(cL--){cM[cL]=cN[cL];}if(cJ){cA.invokeAsync(cG,cK,cM);}else{return cA.invoke(cG,cK,cM);}};})(cI,cF);}}}this.buildStub=function(){return new cC(arguments);};this.buildStub2=function(cD,cE){return new cC(cD,cE);};};cA.registerService("stubBuilder",cB);}function bs(cC){var cA;var cK=1,cL={};function cI(cM){return Object.prototype.toString.apply(cM)==="[object Array]";}function cG(cM){return(typeof cM==="object"&&!cI(cM))||(typeof cM==="function");}function cE(cN){if(cI(cN)){var cM=cN.length;while(cM--){cN[cM]=cE(cN[cM]);}}else{if(cG(cN)){cF(cN);}}return cN;}function cB(cN){if(cI(cN)){var cM=cN.length;while(cM--){cN[cM]=cB(cN[cM]);}}else{if(cN&&cN.$ID){return cL[cN.$ID];}}return cN;}function cF(cM){if(cM.$ID){if(!cL[cM.$ID]){cL[cM.$ID]=cM;}cL[cM.$ID].$RC++;return cM.$ID;}cM.$RC=1;cL[cM.$ID=cK]=cM;return cK++;}function cD(cM,cN){return cF(cL[cM][cN]);}function cJ(cM){o=cL[cM];if(o&&o.$ID&&!--o.$RC){delete cL[o.$ID];}}function cH(cM,cO,cN){cM=cB(cM);cM.$RETVAL=cM.apply(cB(cO),cB(cN));}document.COOLIRIS={x:cH,a:cF,r:cJ,af:cD};return new function(){for(var cM in cC){if(typeof cC[cM]==="function"){this[cM]=(function(cN){return function(){return cC[cN].apply(cC,arguments);};})(cM);}}this.queryService=function(cN){var cO=cC.queryService(cN);return cO&&cL[cO];};this.registerService=function(cO,cN){cF(cN);cC.registerService(cO,cN);};this.invoke=function(cQ,cR,cP){var cO;cF(cQ);cP=cE(cP);try{cO=cC.invoke(cQ,cR,cP);}finally{var cN=cP.length;while(cN--){cJ(cP[cN]&&cP[cN].$ID);}}if(cI(cO)){return cO[0];}else{return cO&&cL[cO];}};};}function bl(cA){return new function(){for(var cB in cA){if(typeof cA[cB]==="function"){this[cB]=(function(cC){return function(){return cA[cC].apply(cA,arguments);};})(cB);}}this.invoke=function(cD,cF,cC){for(var cE=0;cE<cC.length;cE++){if(typeof cC[cE]==="number"&&cC[cE]>2147483647){cC[cE]=cC[cE].toString();}}return cA.invoke(cD,cF,cC);};this.invokeAsync=function(cD,cF,cC){for(var cE=0;cE<cC.length;cE++){if(typeof cC[cE]==="number"&&cC[cE]>2147483647){cC[cE]=cC[cE].toString();}}cA.invokeAsync(cD,cF,cC);};};}function aU(){if(aU.singleton){return aU.singleton;}var cA=null;if(typeof PicLensContext!="undefined"){cA=new PicLensContext();if(navigator.userAgent.match(/Firefox\/2/)){cA=bs(cA);}else{if(navigator.userAgent.match(/Chrome/)){cA=bl(cA);}}}else{try{cA=new ActiveXObject("PicLens.Context");}catch(cB){if(navigator.mimeTypes["application/x-cooliris"]){cA=document.createElement("object");cA.style.width="0px";cA.style.height="0px";cA.type="application/x-cooliris";document.documentElement.appendChild(cA);}}}bw(cA);return(aU.singleton=cA);}var aJ=aU();function b(cB,cA){cA(cB);cB=cB.firstChild;while(cB){b(cB,cA);cB=cB.nextSibling;}}function cp(cD,cC){if(!cD.className){return false;}var cB=cD.className.split(" ");var cA=cB.length;while(cA--){if(cB[cA]===cC){return true;}}return false;}function ch(cD,cB){var cC=[],cA=function(cE){if(cp(cE,cB)){cC.push(cE);}};b(cD,cA);return cC;}function bV(cE,cC,cB){var cF=cE.getElementsByTagName(cB),cA=cF.length,cD=[];while(cA--){if(cp(cF[cA],cC)){cD.push(cF[cA]);}}return cD;}function B(cC,cB,cE){var cD=cC.getElementsByTagName(cB);var cA=cD.length;while(cA--){if(cD[cA].id==cE){return cD[cA];}}return null;}function V(cC,cD){var cB=[],cA=function(cE){if(cE.getAttribute&&cE.getAttribute("id")===cD){cB.push(cE);}};b(cC,cA);return cB[0]?cB[0]:null;}var ct=/\<[^\>]*\>/g;var al=new (function(){var cA=window;var cC=cA.document;var cB=navigator.userAgent.toLowerCase();this.ie=!!cA.VBArray;this.ie6=(this.ie&&cC.implementation);this.ie7=(this.ie&&cA.XMLHttpRequest);this.gecko=(cA.netscape&&!this.opera);this.safari=cB.indexOf("safari")+1;this.khtml=(this.safari||cB.indexOf("konqueror")+1);this.chrome=~cB.indexOf("chrome");});function bJ(cD,cC){var cB=cD.getElementsByTagName(cC),cA=cB.length;while(cA--){cB[cA].parentNode.removeChild(cB[cA]);}}function R(cC){var cB=cC.getElementsByTagName("a"),cA=cB.length;while(cA--){cB[cA].href=cB[cA].href;}}function aj(cB,cA){if(!cA){cA=document.createElement("div");}if(al.ie){cA.innerHTML="<div>"+cB;}else{cA.innerHTML=cB;}return cA;}function cd(cA){var cB={x:0,y:0,width:cA.offsetWidth,height:cA.offsetHeight};while(cA){cB.x+=cA.offsetLeft;cB.y+=cA.offsetTop;cA=cA.offsetParent;}return cB;}function ah(){var cC=document.getElementsByTagName("head");if(cC.length){var cB=cC[0].getElementsByTagName("link");var cA=cB.length;while(cA-->0){var cD=cB[cA];if(cD&&cD.rel&&(cD.rel.indexOf("icon")!=-1)&&cD.href){return cD.href;}}}return document.domain+"/favicon.ico";}function a3(){try{var cB=new DOMParser();this.parseFromString=function(cC){return cB.parseFromString(cC,"text/xml");};}catch(cA){this.parseFromString=function(cD){try{var cC=new ActiveXObject("Microsoft.XMLDOM");cC.async="false";if(cC.loadXML(cD)){return cC;}else{return;}}catch(cE){}};}}function bd(){if(!bd.index){bd.index=0;}return"SlNBd2Vzb21lbmVzc0J5UEpKViZOVkU"+bd.index++;}function w(cB){if(!cB.applyCallback){var cA=bd();cB.applyCallback="document."+cA;(document[cA]=function(cE,cC){var cD=cB[cE];delete cB.$returnValue;cB.$returnValue=cD&&cD.apply(cB,cC);}).toString=function(){};}}function bK(cC){if(cC.applyCallback){var cA=cC.applyCallback.replace("document.","");try{delete document[cA];}catch(cB){document[cA]=undefined;}}}var I=window["eval"];function cs(cD,cF,cE){function cB(cH){var cG=cH.href,cI=cH.getAttribute("href");if(cF&&cG&&cI!="#"&&cF(cG)){cH.href=aZ+cG;}else{if(cH.parentNode&&(cE||!cG||cI=="#")){var cJ=document.createElement("span");cJ.innerHTML=cH.innerHTML;cH.parentNode.replaceChild(cJ,cH);}}}if(cD){if(cD.tagName==="A"){cB(cD);}var cC=cD.getElementsByTagName("a"),cA=cC.length;while(cA--){cB(cC[cA]);}}return cD;}function y(cE,cD){var cF=cd(cE),cB=cd(cD),cC=d(cF),cA=cF.x-cB.x,cG=(cF.y-cB.y)+(cF.height-cC);return[cA,cG,cC,cC];}function d(cG){var cE=36,cD=28,cC=35,cF=20,cA=cG.height/2,cH=cG.width/2,cB=cA<cH?cA:cH;if(cB<cC){cC=cB>cF?cB:cF;}return cC;}function bg(cA){return encodeURIComponent(cA||"");}function aV(cA){return decodeURIComponent(cA?cA.replace(/\+/g,"%20"):"");}function F(cB){cB=cB||location.search;cB=cB.replace("?","");var cD={};var cE=cB.split("&");var cC=cE.length;while(cC--){var cA=cE[cC].split("=");if(cA.length===2){cD[aV(cA[0])]=aV(cA[1]);}else{if(cA.length===1){cD[aV(cA[0])]="";}}}return cD;}function bN(cB){var cC="";for(var cA in cB){if(cB.hasOwnProperty(cA)&&cA){cC+=(cC?"&":"?")+bg(cA)+"="+bg(""+cB[cA]);}}return cC;}function bI(cA){cA=cA||"";cA+="";return cA.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;");}function j(cA){cA=cA||"";cA+="";return cA.replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&");}function u(cB){if(cB){var cC=document.createElement("div");if(cB.parentNode){cC.appendChild(cB.cloneNode(true));return cC.innerHTML;}else{cC.appendChild(cB);var cA=cC.innerHTML;cC.removeChild(cB);return cA;}}return"";}var r="http://www.w3.org/1999/xhtml";function G(cA){return cA&&cA.replace(/^<(\w+)\s*(.*?)/,'<$1 xmlns="'+r+'" $2');}var cw=/(&(quot|amp|gt|lt);)|(&(\w+);)/g;var M="$1";var aQ=/<([^"<>]+?)=(\w+)([^"<>]*?)\>/g;var ag='<$1="$2"$3>';var X=/(<.*?\s+class=)([^\s>]+)(\s|>)/g;var am='$1"$2"$3';var aO=/(<.*?\s+id=)([^\s>]+)(\s|>)/g;var cy='$1"$2"$3';function cg(cA){if(al.ie){return G(u(cA).replace(/<br>/ig,"<br/>").replace(cw,M).replace(X,am).replace(aO,cy).replace(/<\/?\s*(\S+)\s*/g,function(cB){return cB.toLowerCase();}));}else{return G(u(cA).replace(/<br>/ig,"<br/>").replace(cw,M).replace(aQ,ag));}}function a6(cA){var cB=cA.xml||(new XMLSerializer()).serializeToString(cA);return G(cB);}var bT={a:true,p:true,br:true,span:true,b:true,i:true,u:true};var cl=/<\/?(\w+)(\s[^>]*)?>/g;function cx(cA){if(bT[cA]){return true;}else{return false;}}function br(cB){if(!cB){return;}var cA=function(cD,cC){if(cx(cC)){return cD;}else{return"";}};return cB.replace(cl,cA);}var bZ={tr:"p",li:"p",dt:"p",dd:"p",h1:"p",h2:"p",h3:"p",h4:"p",h5:"p",h6:"p",strong:"b",div:"p"};var aS={th:" ",td:" ",hr:G("<br/>")};var bO=/<(\/)?(\w+)(\s[^>]*)?>/g;function aA(cB){if(!cB){return;}var cA=function(cH,cE,cD,cC){if(bZ[cD]){var cG=cE?cE:"";var cF=cC?cC:"";return"<"+cG+bZ[cD]+cF+">";}else{if(aS[cD]){return aS[cD];}else{return cH;}}};return cB.replace(bO,cA);}function L(cD){var cE=new a3();var cC=cE.parseFromString(cD);if(cC){return cD;}var cB=function(cG,cF){if(cF=="br/"){return cG;}else{return"";}};var cA='<span xmlns="'+r+'">'+cD.replace(/<\/?p[^>]*>/g,"<br/>").replace(/<([^>]*)>/g,cB)+"</span>";cC=cE.parseFromString(cA);if(cC){return cA;}return"";}function aI(cA){return Object.prototype.toString.apply(cA)==="[object Array]";}function Y(cA,cB){cA.constructor.prototype[cB].call(cA);}function b6(cC,cB){cB=cB||((Object.prototype.toString.apply(cC)==="[object Array]")?[]:{});for(var cA in cC){if(typeof cC[cA]==="object"){cB[cA]=b6(cC[cA]);}cB[cA]=cC[cA];}return cB;}function aR(cC,cB){if(!cC||!cB){return cC;}for(var cA in cB){cC[cA]=cB[cA];}return cC;}function bk(cC,cB){if(!cB||!cC){return cB;}for(var cA in cB){if(!cC.hasOwnProperty(cB[cA])){cC[cA]=cB[cA];}}return cC;}function a2(cD,cC){var cA={};for(var cB=0;cB<cC.length;cB++){if(cD.hasOwnProperty(cC[cB])){cA[cC[cB]]=cD[cC[cB]];}}return cA;}function bu(cC,cA){var cB;if(cC.attributes){cB=cC.attributes[cA];return cB&&cB.nodeValue;}else{return cC.getAttribute(cA);}}function av(cB,cA){return window.setTimeout(cB,cA);}function S(cB,cA){return window.setInterval(cB,cA);}function cf(cC,cA){var cB=ab(cC,cA);return cB&&cB.href;}function ab(cE,cA){var cD=cE.atom$link||cE.link,cF=aI(cD)?cD:[cD],cB=cF.length,cC;while(cC=cF[--cB]){if(cC.rel===cA){return cC;}}return null;}var x="http://www.w3.org/2005/Atom";function cj(cB,cA){return{xmlns:x,rel:cA||"",href:cB};}function a5(){var cB=document.getElementsByTagName("head");if(cB.length){var cD=cB[0].getElementsByTagName("script"),cC=cD.length;while(--cC){var cE=cD[cC],cA=cE.src&&cE.src.match(/js\.cooliris\.com\/.+\/feeds\/.+\?(\d+)/);if(cA){return cA[1];}}}return(new Date()).getTime();}function aC(){var cA=""+a5();return cA;}function bh(cA){return cj(cA+"?"+aC(),"stylesheet");}var bM="http://schemas.google.com/g/2005";function cz(cA,cB){return{xmlns:bM,name:cA,value:cB};}var s=/(https?:\/\/([.]|[^\s])*)[\s$]?/;function b2(cA){cA=cA||"";return cA.replace("\r\n","<html:br />").replace("\n","<html:br />").replace(s,'<html:a href="$1">$1</a>');}function bS(cB,cA){cB=String(cB);cA=cA||2;while(cB.length<cA){cB="0"+cB;}return cB;}function co(cA){var cE=parseInt(cA,10);var cC=cE%60;var cD=Math.floor(cE/60)%60;var cB=Math.floor(cE/3600);time=bS(cD)+":"+bS(cC);if(cB){time=bS(cB)+":"+time;}return time;}function a8(cA){return cA.replace("$",":");}function q(cD){var cB="";for(var cA in cD){var cC=cD[cA];if(cA.indexOf("xmlns$")===0){cB+=" "+a8(cA)+'="'+bI(cC)+'"';}}return cB;}function ci(cA,cC,cF){var cE=false,cI=a8(cA),cJ="<"+cI;for(var cG in cC){var cH=cC[cG];if(typeof cH!="object"){if(cG=="$t"||cG=="$xml"){cE=true;}else{cJ+=" "+a8(cG)+'="'+bI(cH)+'"';}}else{cE=true;}}if(cF){cJ+=cF;}if(cE){cJ+=">";for(var cG in cC){var cH=cC[cG];if(typeof cH==="object"){var cB=cH.length;if(typeof cB!=="undefined"){for(var cD=0;cD<cB;cD++){cJ+=ci(cG,cH[cD]);}}else{cJ+=ci(cG,cH);}}else{if(cG=="$t"){cJ+=bI(cH);}else{if(cG=="$xml"){cJ+=cH;}}}}cJ+="</"+cI+">";}else{cJ+=" />";}return cJ;}function k(cA,cC,cB){return ci(cA,cC,cB);}var aZ="jsfeed:",z,a1=(function(){var cC=/(((\w+:?)\/\/)([^\/:]*)(:(\d*))?)?([^#?]*)(\?([^#]*))?(#([^?]*)(\?(.*))?)?/,cA=/^jsfeed:/i;z=function(cD){return cD.replace(cA,"");};var cB=function(cE,cD){this.parseURI(cE||location.href,cD);};cB.prototype.parseURI=function(cF,cD){if(cF instanceof cB){return b6(cF,this);}var cE=z(cF).match(cC);this.hash=cE[10];this.host=cE[4];this.hostname=cE[4];this.protocol=cE[3];this.href=cE[0];if(cD){this.pathname=(cE[11]||cE[7])||"";this.search=(cE[12]||cE[8])||"";this.hash="";}else{this.pathname=cE[7];this.search=cE[8];}this.queryParameters=F(this.search||"?");return this;};cB.prototype.implodeQueryString=function(){this.search=bN(this.queryParameters);return this.search;};cB.prototype.toString=function(){var cD="";this.protocol&&(cD+=this.protocol+"//");this.host&&(cD+=this.host);this.port&&(cD+=":"+this.port);if(this.host&&!this.pathname){cD+="/";}this.pathname&&(cD+=this.pathname);this.implodeQueryString();this.search&&(cD+=this.search);this.hash&&(cD+=this.hash);return cD;};cB.prototype.toStringWithFragment=function(){if(this.hash){return this.toString()+this.hash;}return this.toString();};return cB;})();function aG(cB,cA){this.status=cB.status;this.statusText=cB.statusText;this.responseXML=cB.responseXML;this.responseText=cB.responseText;this.responseBody=cB.responseBody;this.responseStream=cB.responseStream;this.readyState=cB.readyState;this.uri=cA;this.request=cB;return this;}function p(cA,cC){var cB;if(window.XMLHttpRequest){cB=new XMLHttpRequest();}else{if(window.ActiveXObject){cB=new ActiveXObject("Microsoft.XMLHTTP");}}if(cB){cB.open("GET",z(cA),true);cB.onreadystatechange=function(){if(cB.readyState===4){cC(new aG(cB,cA));}};cB.send(null);}}function m(cB,cA){if(cB&&typeof cA==="undefined"){if(typeof cB.begin!=="undefined"){this.begin=cB.begin;this.end=cB.end;}else{this.begin=cB[0];this.end=cB[1];}}else{this.begin=cB||0;this.end=cA||0;}if(this.begin>this.end){this.begin=this.end=0;}return this;}m.prototype={contains:function(cA){return(cA.begin>=this.begin&&cA.end<=this.end);},intersect:function(cB){var cC=cB.begin>this.begin?cB.begin:this.begin;var cA=cB.end<this.end?cB.end:this.end;return(cA>=cC)?new m(cC,cA):new m();},union:function(cA){var cB=new m(cA.begin<this.begin?cA.begin:this.begin,cA.end>this.end?cA.end:this.end);return(cB.end>=cB.begin)?cB:new m();},empty:function(cA){return this.begin==this.end;},size:function(){return this.end-this.begin;},toString:function(){return"["+this.begin+","+this.end+")";}};m.empty=new m(0,0);var aB=0,t=80,aH=16;if(al.ie){aB=50;}var bp=new function(){var cB=[],cG=0,cF;function cC(){return(new Date).getTime();}function cE(){if(cB.length){cF=cC()+aB;setTimeout(cA,aB);}}function cD(cH){if(cH<=0){return aH;}else{return Math.min(t,aH+cH);}}function cA(){var cJ=cC(),cM=cJ-cF,cL=cD(cM),cI;++cG;var cH=cC(),cK=0;while((cC()-cJ<cL)&&(cI=cB.shift())){try{cI();}catch(cN){}cK++;}--cG;cE(cJ);}this.run=function(cH){cB.push(cH);if(cG==0){cF=cC();cA();}};};var at=(function(){var cA=0;return function(){return"e"+ ++cA;};})(),i=at(),A=at();function a0(){if(!a0.instance){this.events={};a0.instance=this;}return a0.instance;}function bc(){return a0.instance||new a0();}a0.prototype.addListener=function(cA,cC){var cB=this.events[cA]||(this.events[cA]=[]);cB.unshift(cC);};a0.prototype.removeListener=function(cA,cD){var cC=this.events[cA],cB=cC.length;while(cB--){var cE=cC[cB];if(cE===cD){cC.splice(cB,1);return;}}};a0.prototype.fire=function(cB,cA){var cD=this.events[cB]||[],cC=cD.length;while(cC--){if(typeof cD[cC]==="function"){var cE=(function(cF){return function(){cD[cF].apply(null,cA||[]);};})(cC);setTimeout(cE,1);}}};function bb(){}bb.prototype.initialize=function(){this.eventListeners={};this.weblink=location.href;this.uri;this.rangeBounds=new m(-65536,65535);this.rangeLoaded=new m;this.rangeNeeded=new m;this.ITEMS_PER_REQUEST=NaN;return this;};bb.prototype.dispose=function(){bc().fire(A);};bb.prototype.loadRange=function(cA){};bb.prototype.addItem=function(cA,cB){this.addItems([cA],cB);};bb.prototype.addItems=function(cC,cA){var cB;if(cA){cB=new m(this.rangeLoaded.begin-cC.length,this.rangeLoaded.begin);}else{cB=new m(this.rangeLoaded.end,this.rangeLoaded.end+cC.length);}this.rangeLoaded=this.rangeLoaded.union(cB);this.rangeBounds.end=Math.round(this.rangeBounds.end);this.raiseRangeLoadedEvent({range:cB,bounds:this.rangeBounds,items:cC});};bb.prototype.raiseEvent=function(cB,cA){try{var cC=this.eventListeners[cB];if(cC){cC(cA);}}catch(cD){}};bb.prototype.raiseRangeLoadedEvent=function(cC){var cB={begin:{$t:""+cC.range.begin},end:{$t:""+cC.range.end}},cF={begin:{$t:""+cC.bounds.begin},end:{$t:""+cC.bounds.end}},cA=cC.items,cE=(((cA[0]&&cA[0].feedUrl)&&("<feedUrl>"+bI(cA[0].feedUrl)+"</feedUrl>"))||""),cG="<range>"+cE+ci("range",cB)+ci("rangeBounds",cF);for(var cD=0;cA&&cD<cA.length;cD++){cG+=cA[cD].xml;}cG+="</range>";if(this.eventListeners.rangeLoaded2){this.raiseEvent("rangeLoaded2",cG);}else{this.raiseEvent("rangeLoaded",cC);}};bb.prototype.parseComplete=function(){};bb.prototype.parseResponseWithContinuation=function(cA){var cD=this,cE=[],cC=false,cF=function(){if(cA.EOF){if(cC){cD.rangeBounds.begin=cD.rangeLoaded.begin;}else{cD.rangeBounds.end=cD.rangeLoaded.end;}cD.setBounds();}cD.parseComplete();},cG=function(){return cA.moveNext();},cB=function(){cF();},cI=function(cJ){cD.addItem(cJ,cC);};if(this.rangeToLoad.begin<0){cC=true;if(cA.movePrev){cA.moveLast();cG=function(){return cA.movePrev();};}else{cI=function(cJ){cE.push(cJ);};cB=function(){cD.addItems(cE,cC);cF();};}}function cH(){try{if(cG()){cI(cA.current);bp.run(cH);}else{cB();}}catch(cJ){cD.setBounds(cD.rangeLoaded);cD.parseComplete();}}bp.run(cH);};bb.prototype.setBounds=function(cA){cA&&(this.rangeBounds=cA);this.raiseRangeLoadedEvent({range:m.empty,items:[],bounds:this.rangeBounds});};bb.prototype.addEventListener=function(cA,cB){this.eventListeners[cA]=cB;};bb.prototype.noResultsLoaded=function(){this.setBounds(m.empty);};bb.prototype.setPropertyGroup=function(cA){this.propertyGroup=cA;if(cA){var cB=this;cA.addEventListener(function(){cB.propertyChanged.apply(cB,arguments);});cA.setCallMethodDelegate(this);}this.propertyGroupConnected();};bb.prototype.propertyGroupConnected=function(){};bb.prototype.propertyChanged=function(cA,cB,cC,cD){};var bL=false,aW=true,bq="http://js.cooliris.com/",N=bh(bq+"layout/facebook.xslt"),aL=bq+"static/images/site.facebook.png",bi="http://www.facebook.com/",aT="jsfeed:"+bi+"home.php",aP=bq+"static/images/facebook.big.logo.jpg",bB=/(\d*)\/[anst](\d*_)/,bA=/(.*?_)[anst](\.\w+)/,aK="$1/a$2",az="$1/n$2",g=location.protocol+"//"+location.host,ca=/.*?\/[anst](\d*)_(\d*)_(.*)/,b9=/.*?_(\d*)_(\d*)_\d*_?[anst]?\..*/,T='<?xml version="1.0" encoding="UTF-8"?><ci:feedData xmlns:ci="http://schemas.cooliris.com/layout/2008"><ci:navbar-link>'+aT+"</ci:navbar-link></ci:feedData>";function bE(cA){if(cA.match(bB)){return cA.replace(bB,"$1/a$2");}else{return cA.replace(bA,"$1a$2");}}function aw(cA){if(cA.match(bB)){return cA.replace(bB,"$1/n$2");}else{return cA.replace(bA,"$1n$2");}}function ba(cB){var cA;if(cA=cB.match(ca)){return cA[1];}else{return cB.replace(b9,"$1");}}function cu(cB){var cA;if(cA=cB.match(ca)){return cA[2];}else{return cB.replace(b9,"$2");}}function bC(){return{xmlns$atom:x,atom$link:{rel:"pivot",href:aT},atom$logo:{$t:aL}};}function bW(cA){this.parseURI(cA||location.href,true);}bW.prototype=new a1();bW.prototype.canonicalID=function(){var cA=a2(this.queryParameters,["id","pid"]);return bN(cA)||" ";};function h(cB,cD,cC){if(cD&&(cD.isSessionOk&&!cD.isSessionOk(cB))){var cF='<span>In order to access all of your Facebook photos in Cooliris, please <a href="'+bi+'">login</a> and try again.</span>',cA='<span><a href="'+bi+'">Sorry, you have been logged out of Facebook.</a></span>',cE={guid:{$t:bi},feedUrl:{$t:bi},contextinfo:{$xml:G(cF)},media$description:{$xml:G(cA)},link:[{$t:bi},N],media$thumbnail:{url:aP},media$content:{url:aP},atom$source:bC()};cE=ac(cE);cD.addItem(cE);cD.parseComplete();}else{cC(cB);}}function bn(cA,cB){return function(cC){h(cC,cB,cA);};}var aX=(function(){if(typeof AsyncRequest==="function"){return function(cF,cB,cC,cA,cD,cE){(new AsyncRequest).setURI(cF).setReadOnly(true).setMethod("GET").setOption("suppressEvaluation",cE).setData(cB).setHandler(bn(cC,cD)).setErrorHandler(bn(cA,cD)).setTransportErrorHandler(bn(cA,cD)).send();};}else{return function(cG,cC,cD,cA,cE,cF){var cH,cB=new a1();cB.pathname=cG;cB.queryParameters=cC;cB.hash="";cB=cB.toString();cH=function(cI){cI.getPayload=function(){if(!cI.fbData){var cK=cI.responseText;if(cK.indexOf("for")===0){cK=cK.substring(9);}try{if(!cF){cI.fbData=I("("+cK+")");aR(cI,cI.fbData);}}catch(cJ){}}return cF?cI:cI.payload;};bn(cD,cE)(cI);};p(cB,cH);};}})();bb.prototype.setBounds=function(cB){cB&&(this.rangeBounds=cB);if(cB&&cB.empty()){this.raiseRangeLoadedEvent({range:m.empty,items:[],bounds:this.rangeBounds});return;}else{var cA=this;aX("/ajax/presence/reconnect.php",this.pageState,function(cC){handleAsyncResponseError(cC,cA);},function(cC){handleAsyncResponseError(cC,cA);},this);}};function b5(cA,cB){aX(cB,cA.pageState,function(cC){cA.asyncResponse(cC);},function(cC){cA.asyncResponseError(cC);},cA);}function ae(cE,cB,cC,cA,cD){aX(cE,cB,cC,cA,cD,true);}function ao(cB){var cC=new bW(cB);var cA=cC.pathname;return(bU.feedUriForUri(cC)&&(cC.pathname==cA));}av=function(cB,cA){if(window.setTimeout_native){return window.setTimeout_native(cB,cA);}else{return window.setTimeout(cB,cA);}};S=function(cB,cA){if(window.setInterval_native){return window.setInterval_native(cB,cA);}else{return window.setInterval(cB,cA);}};var v=["load","DOMNodeInserted"],bP,cq="on";function J(cC,cB,cA){cB=cB||document;cA=cA||v;if(cB.addEventListener){bP=cA.length;while(bP--){cB.addEventListener(cA[bP],cC,true);}}else{if(cB.attachEvent){bP=cA.length;while(bP--){cB.attachEvent(cq+cA[bP],cC);}}}}function bv(cC,cB,cA){cB=cB||document;cA=cA||v;if(cB.addEventListener){bP=cA.length;while(bP--){cB.removeEventListener(cA[bP],cC,true);}}else{if(cB.attachEvent){bP=cA.length;while(bP--){cB.detachEvent(cq+cA[bP],cC);}}}}function ad(){}ad.prototype.initialize=function(){var cA=this;J(function(){cA.reScan();});this.eventListeners=[];};ad.prototype.register=function(){aJ.registerService("pageHandler",this);this.raiseEvent("launchableChanged",this.launchable);};ad.prototype.raiseEvent=function(cB,cA){try{var cC=this.eventListeners[cB];if(cC){cC(cA);}}catch(cD){}};ad.prototype.addEventListener=function(cA,cB){this.eventListeners[cA]=cB;};ad.prototype.dispose=function(){};ad.prototype.feedForUrl=function(cA){};ad.prototype.parseContentFromDOM=function(){};ad.prototype.reScan=function(){var cB=this,cA=function(){cB.domScannerTimer=null;cB.parseContentFromDOM();var cC=cB.launchable;cB.launchable=(!!cB.feedForUrl());if(cB.launchable!=cC){cB.raiseEvent("launchableChanged",cB.launchable);}};if(!this.domScannerTimer){this.domScannerTimer=window.setTimeout(cA,250);}};ad.prototype.contentItemHandlerForUrl=function(cA){return this.propertyGroupHandlerForUrl(cA);};ad.prototype.propertyGroupHandlerForUrl=function(cA){};ad.prototype.canLaunch=function(){return !!this.elements.length;};function ak(){}ak.prototype=new bb();ak.prototype.parseResponse=function(cB,cA){this.parseComplete();};ak.prototype.parseComplete=function(){var cA=this;bp.run(function(){cA.loadContinuation();});};ak.prototype.asyncResponse=function(cA){this.parseResponse(cA);};ak.prototype.asyncResponseError=function(cA){this.noResultsLoaded();};ak.prototype.loadContinuation=function(){var cB=this.rangeNeeded.intersect(this.rangeBounds);var cC=this.rangeLoaded.begin-cB.begin;var cA=cB.end-this.rangeLoaded.end;if(cA>=cC&&cA>0){cB.begin=this.rangeLoaded.end;cB.end=Math.min(this.rangeLoaded.end+this.ITEMS_PER_REQUEST,this.rangeBounds.end);}else{if(cC>cA&&cC>0){cB.begin=Math.max(this.rangeLoaded.begin-this.ITEMS_PER_REQUEST,this.rangeBounds.begin);cB.end=this.rangeLoaded.begin;}else{cB.begin=0;cB.end=0;}}if(cB.empty()){this.loading=false;return;}this.rangeToLoad=cB;this.makeAsyncRequest(cB);};ak.prototype.startLoading=function(){this.loadContinuation();};ak.prototype.makeAsyncRequest=function(cA){};ak.prototype.loadRange=function(cA){if(this.rangeLoaded.empty()){bc().fire(i);}cA=new m(cA);cA=this.rangeBounds.intersect(cA);if(this.rangeLoaded.contains(cA)||this.rangeNeeded.contains(cA)){return;}this.rangeNeeded=cA;if(!this.loading){this.loading=true;this.startLoading();}};function a9(){}function ac(cC,cB){if(cB){cB=" "+cB;}else{cB=' xmlns:media="http://search.yahoo.com/mrss/"';}var cA={xml:k("item",cC,cB)};if(cC.feedUrl){cA.feedUrl=cC.feedUrl.$t;}return cA;}function ce(cA,cC){var cD=[];for(var cB=0;cB<cA.length;cB++){cD.push(ac(cA[cB],cC));}return cD;}function aa(cA){this.initialize();this.logo=aL;this.feedData=T;this.ITEMS_PER_REQUEST=20;this.parsedUri=cA;this.uri=cA.toString();}aa.prototype=new ak();aa.prototype.startLoading=function(){if(this.parsedUri.pathname=="/photo.php"){if(this.parsedUri.currentPage){this.initializePageState(document);}else{var cA=this;ae("/photo.php",cA.parsedUri.queryParameters,function(cB){var cC=cB.htmlDocument||aj(cB.getPayload().responseText);cA.initializePageState(cC);cA.loadContinuation();},function(cB){cA.asyncResponseError(cB);},this);return;}}else{this.initializePageState();}this.loadContinuation();};aa.prototype.initializePageState=function(cG){try{if(cG){var cH=bV(cG,"single_photo_header","div")[0],cD=cH.getElementsByTagName("a"),cB=cD.length,cC,cA;while(cB--){if(!(cA=cD[cB].href)){continue;}cC=new bW(cA);switch(cC.pathname){case"/photo_search.php":case"/album.php":this.albumUri=cC;break;}}}else{this.albumUri=this.parsedUri;}var cF={async:true};if(this.albumUri.pathname=="/photo_search.php"){cF.view="global";this.albumUri.queryParameters.page=Math.floor(((this.albumUri.queryParameters.page||1)-1)*15/this.ITEMS_PER_REQUEST)+1;}this.pageState=aR(cF,this.albumUri.queryParameters);this.pageState.page=(+this.pageState.page||1);this.rangeBounds.begin=-(this.pageState.page-1)*this.ITEMS_PER_REQUEST;}catch(cE){this.noResultsLoaded();}};aa.prototype.makeAsyncRequest=function(cA){this.pageState.page=1+(cA.begin-this.rangeBounds.begin)/this.ITEMS_PER_REQUEST;b5(this,this.albumUri.pathname);};function W(cF,cC){var cD=cC.getPayload().data,cA=0,cH=new bW(cF.albumUri);cH.queryParameters.page=cF.pageState.page;var cG=cH.toString();var cE=this;function cB(cN){var cM=cD[cA];cA+=cN;if(!cM){delete cE.current;cE.EOF=(cD.length<20);return false;}var cK="?id="+cM.id+"&pid="+cM.pid;var cJ=g+"/photo.php"+cK;var cI=document.createElement("span"),cQ=document.createElement("span");cI.innerHTML=cM.context_info;bJ(cI,"br");cs(cI,ao,aW);cQ.innerHTML=cM.tags.replace(/\s*\|(.*?)\)/g,")").replace(/(\(.*?href="#".*?\))/g,"");bJ(cQ,"script");cs(cQ,ao,aW);var cP=[],cR,cL=0;while(cR=cM.photo_tags[cL++]){cP.push({x:cR[0],y:cR[1],name:cR[2].replace(ct,""),id:cR[3]});}var cO={guid:{$t:cK},feedUrl:{$t:cG},media$description:{$t:cM.caption},link:[{$t:cJ},N],media$thumbnail:{url:bE(cM.src)},media$content:{url:aw(cM.src)},contextinfo:{$xml:cg(cI)},tags:{$xml:cg(cQ)},tagmetadata:cP,atom$source:bC()};cE.current=ac(cO);return true;}this.moveNext=function(){return cB(1);};this.movePrev=function(){return cB(-1);};this.moveLast=function(){cA=cD.length-1;};}aa.prototype.parseResponse=function(cA){this.parseResponseWithContinuation(new W(this,cA));};aa.prototype.isSessionOk=function(cA){var cC=cA.getPayload(),cB;if(cC.responseText){cB=aj(cC.responseText);cA.htmlDocument=cB;return !V(cB,"loginform");}else{return !(cA.error===1357001);}return true;};function cr(cA){this.initialize();this.logo=aL;this.feedData=T;this.ITEMS_PER_REQUEST=20;this.uri=cA.toString();this.parsedUri=cA;this.pageState=aR({view:"recent"},this.parsedUri.queryParameters);this.pageState.s=this.pageState.s?+this.pageState.s:0;this.rangeBounds.begin=-this.pageState.s;}cr.prototype=new ak;cr.prototype.makeAsyncRequest=function(cA){this.pageState.s=cA.begin-this.rangeBounds.begin;b5(this,"/photos/ajax/index.php");};function aq(cH,cB){var cG=aj(cB.getPayload().html),cJ=cG.getElementsByTagName("tr"),cI=0,cD=this,cE=0,cF=new bW(cH.parsedUri);cF.queryParameters.s=cH.pageState.s;var cC=cF.toString();function cA(){var cN=cJ[cI++];metadatarow=cJ[cI++];if(!cN){delete cD.current;if(cE<cH.ITEMS_PER_REQUEST){cD.EOF=true;}return false;}var cO=cN.getElementsByTagName("td"),cM=metadatarow.getElementsByTagName("td"),cL=0;function cK(){var cQ=cO[cL],cP=cM[cL++];if(!cQ){return cA();}cs(cP,ao,aW);var cU=cQ.getElementsByTagName("a")[0].href,cS=cP.getElementsByTagName("div"),cR=cQ.getElementsByTagName("img")[0].src;var cT={guid:{$t:cU},feedUrl:{$t:cC},link:[{$t:cU},N],media$thumbnail:{url:bE(cR)},media$content:{url:aw(cR)},album:{$xml:cg(cS[0])},author:{$xml:cg(cS[1])},atom$source:bC()};cD.current=ac(cT);cD.moveNext=cK;cE++;return true;}return cK();}cD.moveNext=cA;}aq.prototype.xmlDOMParser=new a3();cr.prototype.parseResponse=function(cA){this.parseResponseWithContinuation(new aq(this,cA));};cr.prototype.isSessionOk=function(cA){return !!cA.getPayload().html;};function bt(cA){this.initialize();this.logo=aL;this.feedData=T;this.ITEMS_PER_REQUEST=20;this.uri=this.albumUri=cA.toString();this.parsedUri=cA;this.pageState={id:cA.queryParameters.id,view:"global",page:cA.queryParameters.page,v:"photos",async:"true"};this.pageState.page=(+this.pageState.page||1);this.rangeBounds.begin=-(this.pageState.page-1)*this.ITEMS_PER_REQUEST;}bt.prototype=new ak;bt.prototype.makeAsyncRequest=function(cF){this.pageState.page=1+(cF.begin-this.rangeBounds.begin)/this.ITEMS_PER_REQUEST;var cE=this,cD=function(){b5(cE,"/photo_search.php");};if(!this.pageState.id){var cC="http://"+this.parsedUri.hostname+this.parsedUri.pathname,cB=new bW(),cA=function(cG){var cH=(cG.responseText||cG.payload.responseText).match(/PROFILE_OWNER_ID\s?=\s?"(\d+)"/);if(cH){cE.pageState.id=cH[1];cD();}else{cE.parseComplete();}};if(this.parsedUri.hostname===cB.hostname&&this.parsedUri.pathname===cB.pathname){this.pageState.id=window.PROFILE_OWNER_ID;cD();}else{ae(this.parsedUri.pathname,{},cA,function(cG){cE.asyncResponseError(cG);},this);}}else{cD();}};bt.prototype.parseResponse=function(cA){this.parseResponseWithContinuation(new W(this,cA));};bt.prototype.isSessionOk=function(cA){return !(cA.error===1357001);};function C(cA){this.initialize();this.logo=aL;this.feedData=T;this.parsedUri=cA;this.rangeBounds=new m(0,1);this.uri=cA.toString();}C.prototype=new ak();C.prototype.makeAsyncRequest=function(cB){var cA=this;ae("/profile.php",this.parsedUri.queryParameters,function(cC){cA.asyncResponse(cC);},function(cC){cA.asyncResponseError(cC);},this);};C.prototype.parseResponse=function(cA){try{var cD=cA.htmlDocument||aj(cA.getPayload().responseText),cB=V(cD,"profile_pic").src;item={guid:{$t:this.parsedUri.queryParameters.id},link:[{$t:this.uri},N],type:{$t:"profile"},name:{$t:V(cD,"profile_name").innerHTML},media$thumbnail:{url:cB},profilestatus:{$xml:cg(cs(V(cD,"profile_status"),ao,aW))},basicinfo:{$xml:cg(cs(V(cD,"basic_info_summary_box"),ao,aW))},profileactions:{$xml:cg(cs(bV(cD,"profile_actions","div")[0],ao,aW))},atom$source:bC()};this.addItem(ac(item));this.parseComplete();}catch(cC){this.noResultsLoaded();}};C.prototype.isSessionOk=function(cA){var cC=cA.getPayload(),cB;if(cC.responseText){cB=aj(cC.responseText);cA.htmlDocument=cB;return !V(cB,"loginform");}else{return !(cA.error===1357001);}return true;};function b8(){return this;}b8.prototype=new ad();b8.prototype.initialize=function(){Y(this,"initialize");this.parseContentFromDOM();this.register();return this;};b8.prototype.feedForPage=function(cA){this.feedUriForUri(cA);switch(cA.pathname){case"/album.php":case"/photo.php":return new aa(cA);case"/photos/":return new cr(cA);case"/profile.php":return new C(cA);case"/photo_search.php":return new bt(cA);case"/home.php":return new cr(cA);default:if(!cA.pathname.match(/\/.+?(\.php$|\/)/)){return new bt(cA);}else{return null;}}};b8.prototype.feedUriForUri=function(cA){switch(cA.pathname){case"/album.php":case"/photo.php":case"/photos/":case"/home.php":case"/photo_search.php":return cA;default:if(cA.pathname==="/profile.php"||!cA.pathname.match(/\/.+?(\.php$|\/)/)){if(!bL||(cA.queryParameters.v=="photos")){cA.queryParameters.page=Math.floor((cA.queryParameters.so||0)/20)+1;delete cA.queryParameters.so;if(cA.pathname==="/profile.php"){cA.pathname="/photo_search.php";}}return cA;}}return;};b8.prototype.hasFeedForPage=function(cA){return this.feedUriForUri(cA);};b8.prototype.feedForUrl=function(cA){return this.feedForPage(new bW(cA));};b8.prototype.parseContentFromDOM=function(){this.lastScan=(new Date).getTime();var cA=[],cE=document.getElementsByTagName("A"),cN=0,cH,cB;while(cH=cE[cN++]){try{cB=bu(cH,"href");if(!cB||cB=="#"){continue;}if(cH.id&&cH.id.match(/icon_garden/)){continue;}var cD=this.feedUriForUri(new bW(cH.href));if(cD){var cL=cD.toString();var cI=cH.getElementsByTagName("IMG");if(cI[0]&&!cI[0].className.match(/(spritemap_.*icons|fb_logo_img)/)){if(cH.id=="myphotolink"){cD.queryParameters.pid=cu(cI[0].src);cD.queryParameters.id=ba(cI[0].src);cD.implodeQueryString();cL=cD.toString();}var cG={element:cI[0],feedUri:cL,id:cD.canonicalID()};if(~cI[0].className.indexOf("UIRoundedImage_Image")&&cI[1]){cG.element=cI[1];cG.iconRect=y(cI[0],cI[1]);}cA.push(cG);}else{if(cH.parentNode.style.backgroundImage){var cM=bV(cH,"UIMediaItem_PhotoFrame","DIV")[0],cG={element:cM||cH,feedUri:cL,id:cD.canonicalID()};cG.iconRect=y(cH,cM||cH);cA.push(cG);}}}else{var cF=/http:\/\/www\.flickr\.com\/photos\/([^\/]+\/)([^\/]+\/)/,cC=cB.match(cF),cK=cH.getElementsByTagName("IMG");if(cC&&cK){cG={element:cK[0],feedUri:"jsfeed:http://www.flickr.com/photos/"+cC[1]+"with/"+cC[2],id:cC[0]};cA.push(cG);}}}catch(cJ){}}this.elements=cA;return this;};b8.prototype.spawnReScanWatchDog=function(){if(this.watchDogSpawned){return;}var cC=this,cE,cA=document.createElement("DIV"),cB=function(){if(cC.lastScan<cE){cC.initialize();}else{}document.body.removeChild(cA);},cD=function(){cE=(new Date).getTime();document.body.appendChild(cA);av(cB,1200);};cA.style.display="none";this.watchDogSpawned=true;S(cD,15000);};function ay(cC,cB,cA){cC=Math.round(cC);cB=Math.round(cB);cA=(cA?Math.round(cA):0);this.updatePosition=function(){cC+=cA;if(cA<0){if(cC-cA*(cA-1)/2<cB){cA++;}else{if(cC-(cA-1)*(cA-2)/2>=cB){cA--;}}}else{if(cC+cA*(cA+1)/2>cB){cA--;}else{if(cC+(cA+1)*(cA+2)/2<=cB){cA++;}}}return cC;};this.changeTarget=function(cD){cB=Math.round(cD);};this.getPosition=function(){return cC;};this.getVelocity=function(){return cA;};this.hasStopped=function(){return(cC==cB&&cA==0);};}var aD=aJ.queryService("stats"),e=location.href.replace(/"/,'\\"').replace(/\?.*/,""),b7="contextual_launch_events",b3="kContextualLaunchOpen",ai="kContextualLaunchClickToLaunch",bz="kContextualLaunchUserClose",f="kContextualLaunchTimeoutClose",b1="kContextualLaunchNeverShowAgain",bQ="welcome_page_event",aY="kWelcomePageOpen",O="kWelcomePageLaunchCooliris",c="kLaunchDom",ck="kLaunchToolbar",E="kLaunchJavascript";function bH(cC){var cB=function(cD){aD.reportEvent(cC,"timestamp: "+(new Date).getTime()+' page_url: "'+e+'" type: '+cD);},cA=function(cG,cF,cD){var cE=cG?aY:O;aD.reportEvent(cC,"timestamp: "+(new Date).getTime()+' welcome_page_url: "'+e+'"'+(cF&&(" experiment_id: "+cF))+(cD&&(" experiment_value: "+cD))+(cG&&(" launch_mode: "+cG))+" type: "+cE);};switch(cC){case b7:this.report=cB;break;case bQ:this.report=cA;break;default:this.report=function(){};}}var b0=aJ.queryService("cookieJar"),aE=location.hostname,cc=86400000,by=3600000,ap=60000,l=function(cB,cA){return b0.getCookie(cA||aE,cB);},a=function(cF,cE,cA,cC){var cD=new Date(),cB;cD.setTime(cA);switch(cA){case 0:cB="end of session";break;case -1:cB="PERMANENT COOKIE";break;default:cB=cD.toString();}b0.setCookie(cC||aE,cF,cA,""+cE);},cm=function(cD,cC,cB,cA){a(cD,cC,(new Date()).getTime()+(cc*cB),cA);},au=function(cD,cC,cB,cA){a(cD,cC,(new Date()).getTime()+(by*cB),cA);},bY=function(cD,cC,cA,cB){a(cD,cC,(new Date()).getTime()+(ap*cA),cB);},bj=function(cD,cC,cB,cA){a(cD,cC,(new Date()).getTime()+(1000*cB),cA);},U=function(cB,cA){a(cB,cA,0,"");},aF=function(cC,cB,cA){a(cC,cB,-1,cA);},D=function(cB,cA){cm(cB,"0",-1,cA);l(cB);};var H="dontShowCL",be=at(),K=at(),bo=at(),cn=at(),ar=at(),bx=at(),bF=at(),ax=at(),cb=at(),aN=at(),af=at(),bf=at();var cv=l("com.cooliris.timeDebug")=="true";if(cv){cm=bY;U=function(cB,cA){bY(cB,cA,1);};aF=U;}function P(){}P.prototype.initCommonListeners=function(){if(!this.stats){return;}var cB=this.stats,cA=this.cl;bc().addListener(ar,function(){bc().fire(bf);});bc().addListener(ar,function(){cB.report(f);});bc().addListener(ax,function(){aF(H,"1");bc().fire(bf);});bc().addListener(be,function(){cB.report(ai);});bc().addListener(aN,function(){if(cA.hideBarTimer){window.clearInterval(cA.hideBarTimer);cA.hideBarTimer=0;}});bc().addListener(af,function(){av(function(){if(!cA.hideBarTimer){cA.hideBarTimer=av(function(){bc().fire(ar);},cA.hideBarDelay);}},1000);});bc().addListener(cn,function(){cB.report(b3);});bc().addListener(K,function(){cB.report(bz);});};function bm(){this.disabled=false;this.hideBarDelay=10000;this.dictionary={go:{de:"Los",en:"GO",en_pi:"YARRR!",en_ud:"oƃ",es:"Iniciar",fr:"Lancer",it:"Vai",ja:"Coolirisを開く",nl:"GO",pl:"OK",pt:"OK",ru:"Нажми",tr:"Git",zh_cn:"开始",zh_hk:"開始"},turnThisOff:{de:"Abschalten",en:"Turn this off",en_pi:"Keel haul this!",en_ud:"ɟɟo sıɥʇ uɹnʇ",es:"Cerrar esta ventana",fr:"Désactiver",it:"Disattiva",ja:"閉じる",nl:"Uitschakelen",pl:"Wyłącz",pt:"Desligar",ru:"отключите эту программу",tr:"Kapat",zh_cn:"关闭消息更新",zh_hk:"停止通知"}};this.dictionary.go.zh_sg=this.dictionary.go.zh_tw=this.dictionary.go.zh_hk;this.dictionary.go.zh=this.dictionary.go.zh_cn;this.dictionary.turnThisOff.zh_sg=this.dictionary.turnThisOff.zh_tw=this.dictionary.turnThisOff.zh_hk;this.dictionary.turnThisOff.zh=this.dictionary.turnThisOff.zh_cn;}bm.prototype.initElements=function(){if(this.disabled){return;}this.spacingDiv=document.createElement("DIV");this.launchUIDiv=document.createElement("DIV");this.launchUIDiv2=document.createElement("DIV");this.styleBlock=document.createElement("STYLE");};bm.prototype.attachElements=function(){if(!(this.spacingDiv&&this.launchUIDiv&&this.launchUIDiv2&&this.styleBlock)){return;}document.getElementsByTagName("HEAD")[0].appendChild(this.styleBlock);var cA=document.body.firstChild;document.body.insertBefore(this.spacingDiv,cA);document.body.appendChild(this.launchUIDiv2);document.body.appendChild(this.launchUIDiv);};bm.prototype.initStyleBlock=function(){if(!this.styleBlock){return;}var cA=this.styleBlock,cC=this.backgroundImage="http://js.cooliris.com/static/images/cl/v2/contextual-launch-balloon-style.png",cB='        div.launchUIDiv {             top:-64px;             height: 64px;             font-family:"Lucida Grande",Helvetica,Arial,sans-serif;             color:white;             overflow:hidden;             position: '+(al.ie?"absolute":"fixed")+";             z-index:999;        }         div.launchUIDiv a:focus{             outline:none; /*removes dotted line for ff */         }         div.launchUIDiv a:visited{             color:white;         }         .launchUIDiv#launchUIDiv1 {             width:100%;         }         #launchUIDiv2 {             width:90%;             background:url("+cC+") 0 448px repeat;             margin: 0px 50px 0px 30px;             overflow:hidden;         }         #launchUIDiv1 div {             float:left;             text-decoration:none;             overflow:hidden;         }         #launchUIDiv1 div a {             float:left;             height:45px;             text-decoration:none;             overflow:hidden;             color:white;         }         .launchUIDiv #leftBubble {             width:44px;             height:64px;             background:url("+cC+") 0 0 no-repeat;                  }         .launchUIDiv #textAndGo {             height:64px;             background:url("+cC+") 0 448px repeat;             padding: 7px 4px 0px 10px;         }         .launchUIDiv #mainText {             height:64px;             font-weight:bold;             font-size:16px;             padding-top:17px;         }         .launchUIDiv #goButton {             height:64px;             color:black;         }         .launchUIDiv #goButton:visited{             color:black;         }         .launchUIDiv #goLeft {             width:20px;             height:39px;             margin-top:11px;             background:url("+cC+") -9px -210px no-repeat;         }         .launchUIDiv #goLeft.hover {             background-position: -9px -338px         }         .launchUIDiv #goMiddle {             height:39px;             margin-top:11px;             padding:7px 7px 0 5px;             font-weight:bold;             font-size:15px;             background:url("+cC+")  0 750px repeat;         }         .launchUIDiv #goMiddle.hover {             background-position: 0px 622px         }         .launchUIDiv #goRight {             width:35px;             height:39px;             margin-top:11px;             background:url("+cC+")  -31px -210px no-repeat;         }         .launchUIDiv #goRight.hover {             background-position: -31px -338px         }         .launchUIDiv #rightBubble {             float:right;             height:64px;             width:54px;             background:url("+cC+") -27px -128px no-repeat;                      }         .launchUIDiv #xButton {             width:36px;             height:34px;             margin:20px 3px 0px 0px;             text-indent: -10000em;                      background:url("+cC+") 2px -468px no-repeat;         }         .launchUIDiv #xButton:hover {             background-position: -30px -468px;         }                  .launchUIDiv #stretchDiv {             float:right;             height:64px;             background:url("+cC+") 0 448px repeat;         }         .launchUIDiv #turnOff {             height:20px;             font-weight:normal;             font-size:12px;             padding-top:27px;         } ";cA.type="text/css";if(al.ie){cA.styleSheet.cssText=cB;}else{cA.appendChild(document.createTextNode(cB));}};bm.prototype.initDivs=function(){if(!(this.spacingDiv&&this.launchUIDiv&&this.launchUIDiv2&&this.styleBlock)){return;}var cK=this,cP=this.spacingDiv,cL=this.launchUIDiv,cB=this.launchUIDiv2;cP.style.width="100%";cP.style.height="64px";cP.style.margin="0px";cP.style.marginTop="-64px";cL.setAttribute("id","launchUIDiv1");cL.className="launchUIDiv";cB.setAttribute("id","launchUIDiv2");cB.className="launchUIDiv";cB.innerHTML='<img src="'+this.backgroundImage+'" /><iframe height="0" width="0" style="display:none;" src="http://js.cooliris.com/v/1/search/launchui/addLaunchUIDomain.html?d='+location.hostname+'"></iframe>';cL.innerHTML='    <div id="leftBubble"></div>     <div id="textAndGo">         <a id="mainText" href="#" class="ci_launchable">'+this.text.text+'</a>         <a id="goButton" href="#" class="ci_launchable">             <div id="goLeft" >&nbsp;</div>             <div id="goMiddle"> '+this.text.go+' </div>             <div id="goRight">&nbsp;</div>         </a>     </div>     <div id="rightBubble">         <a id="xButton" href="#"> X </a>      </div>     <div id="stretchDiv">         <a id="turnOff" href="#">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'+this.text.turnThisOff+"&nbsp;</a>     </div>";V(cL,"turnOff").onclick=function(){bc().fire(ax);return false;};var cD=ch(cL,"ci_launchable"),cJ=function(){bc().fire(be);return false;};cD[0].onclick=cJ;cD[1].onclick=cJ;var cH=V(cL,"goButton"),cE=function(cQ){var cR=cH.children.length;while(cR--){cH.children[cR].className=cQ;}};cH.onmouseover=function(){cE("hover");};cH.onmouseout=function(){cE("");};var cI=-64,cO,cF,cA,cN,cM=function(){cO=cF.updatePosition();cP.style.marginTop=cO+"px";cL.style.top=cO+"px";cB.style.top=cO+"px";if(cF.hasStopped()){window.clearInterval(cA);if(cN){bc().fire(cn);cK.hideBarTimer=av(function(){bc().fire(ar);},cK.hideBarDelay);}else{bc().fire(bF);}}},cC=function(){if(cK.launchUIDiv&&(!cK.launchUIDiv.style.top||cK.launchUIDiv.style.top.replace("px","")==cI)){cN=true;cF=new ay(cI,0);cO=0;bc().fire(bo);cA=S(cM,55);}},cG=function(){if(cK.launchUIDiv&&cN&&cK.launchUIDiv.style.top.replace("px","")==0){cN=false;cF=new ay(0,cI);bc().fire(bx);cA=S(cM,55);}};this.showBar=cC;this.hideBar=cG;V(cL,"xButton").onclick=function(){bc().fire(bf);bc().fire(K);return false;};cL.onmouseover=function(){bc().fire(aN);};cL.onmouseout=function(){bc().fire(af);};};bm.prototype.initListeners=function(){if(!this.hideBar){return;}var cA=this;bc().addListener(bf,function(){if(cA.hideBarTimer){window.clearInterval(cA.hideBarTimer);cA.hideBarTimer=0;}cA.hideBar();});};bm.prototype.initCustomStuff=function(){};bm.prototype.initUIComponents=function(){if(this.disabled){return;}this.initElements();this.initStyleBlock();this.initDivs();this.initCustomStuff&&this.initCustomStuff();this.initListeners();this.attachElements();};bm.prototype.show=function(){if(this.disabled){return;}if(this.showBar&&this.hideBar){this.showBar();}};bm.prototype.removeUIComponents=function(){if(this.disabled){return;}this.launchUIDiv.parentNode.removeChild(this.launchUIDiv);this.launchUIDiv2.parentNode.removeChild(this.launchUIDiv2);this.spacingDiv.parentNode.removeChild(this.spacingDiv);this.styleBlock.parentNode.removeChild(this.styleBlock);delete this.launchUIDiv;delete this.launchUIDiv2;delete this.spacingDiv;delete this.styleBlock;};function Z(){this.hideBarTimer;this.dictionary.text={de:"Alle neuen Fotos deiner Freunde in der Cooliris 3D Wand anschauen",en:"See all of the new photos from your friends on the Cooliris 3D Wall",en_PI:"Avast! Sail by all o' th' new portraits from yer shipmates on th' Cooliris 3D Wall",en_UD:"llɐʍ p3 sıɹılooɔ ǝɥʇ uo spuǝıɹɟ ɹnoʎ ɯoɹɟ soʇoɥd ʍǝu ǝɥʇ ɟo llɐ ǝǝs",es:"Ve todas las fotos nuevas de tus amigos en la pared 3D de Cooliris",fr:"Voir toutes les nouvelles photos de vos amis sur le Mur 3D de Cooliris",it:"Vedi tutte le nuove foto dai tuoi amici sul muro 3D Cooliris",ja:"友達からの新しい写真をCoolirisの3D Wallで全部見る",nl:"Bekijk nieuwe foto's van je vrienden op de Cooliris 3D muur",pl:"Zobacz wszystkie najnowsze zdjęcia Twoich znajomych na trójwymiarowej ścianie Cooliris",pt:"Veja todas as novas fotos dos seus amigos na Parede 3D da Cooliris",ru:"Увидеть все новые фотографии своих друзей на трехмерной стене Cooliris",tr:"Arkadaşlarınızın yeni resimlerinin tümünü Cooliris 3 Boyutlu Duvar’da görüntüleyin",zh_cn:"用 Cooliris 的 3D 墙壁观赏朋友们新上载的照片",zh_hk:"用 Cooliris 的 3D 牆壁觀賞朋友們新上載的照片"};this.dictionary.text.zh_sg=this.dictionary.text.zh_tw=this.dictionary.text.zh_hk;this.dictionary.text.zh=this.dictionary.text.zh_cn;this.initLanguage();this.initUIComponents();}Z.prototype=new bm();Z.prototype.initLanguage=function(){var cC=document.body.className.match(/Locale_(([^_]{2})[^\s]*?)(\s|$)/),cA=cC[1]&&cC[1].toLowerCase(),cB=cC[2]&&cC[2].toLowerCase(),cD="en";if(this.dictionary.text[cA]){cD=cA;}else{if(this.dictionary.text[cB]){cD=cB;}}this.text={text:this.dictionary.text[cD],go:this.dictionary.go[cD],turnThisOff:this.dictionary.turnThisOff[cD]};};function bD(){this.hideBarDelay;}bD.prototype=new bm();bD.prototype.initUIComponents=function(){};bD.prototype.show=function(){bc().fire(cn);};bD.prototype.hideBar=function(){};function a7(){}a7.prototype.evaluateRules=function(cA){return this.launchUIEnabled()&&this.checkActiveCloseRules()&&this.checkDisplayFrequency()&&this.checkOrganicLaunchBehavior()&&this.urlLaunchUIEnabled(cA);};a7.prototype.launchUIEnabled=function(){var cA=l(H)!=="1";return cA;};a7.prototype.checkActiveCloseRules=function(){var cA=l(bX)!=="1";return cA;};a7.prototype.checkDisplayFrequency=function(){var cA=l(Q)!=="1";return cA;};a7.prototype.checkOrganicLaunchBehavior=function(){var cA=l(bG)!=="1";if(cA){D(Q);D(bX);D(n);}return cA;};a7.prototype.urlLaunchUIEnabled=function(cB){var cC=new bW(cB),cA=!!cC.pathname.match(/^\/home.php/);return cA;};var a4=at(),n="clManCloseCount",bX="dontShowCL-AC",Q="tempDontShowCL",bG="hasLaunched",bR="clBarLaunch",an="clV2Init";function aM(){if(al.ie){return;}this.policy=new a7();this.stats=new bH(b7);if(!l(an)){aF(an,"1");cm(bG,"1",5);}var cC=aJ.queryService("experiments"),cB=cv?"show-bar":(cC.getExperimentValue("fb-launch-ui")||"none"),cA;switch(cB){case"none":cA=new bD();break;case"show-bar":cA=new Z();break;default:return;}this.cl=cA;this.initListeners();}aM.prototype=new P();aM.prototype.initListeners=function(){if(!this.cl||this.listenersInitialized){return;}else{this.listenersInitialized=true;}this.initCommonListeners();var cA=this.cl,cB=this.stats,cC=this;bc().addListener(be,function(){U(bR,"true");aJ.launch("","","");av(function(){bc().fire(bf);},500);});bc().addListener(i,function(){if("true"!=l(bR)){cm(bG,"1",7);}});bc().addListener(a4,function(cD){if(cC.policy.evaluateRules(cD)){cA.show();}else{bc().fire(bf);}});bc().addListener(a4,function(cE){var cD=new bW(cE);if(cD.pathname.match(/^\/(login|index).php/)){D(Q);D(Q);}});bc().addListener(cn,function(){var cD=l(n);cD=parseInt(cD,10);cD=cD?(cD<=0?0:cD-1):0;aF(n,cD);cm(Q,"1",1);U(Q,"1");});bc().addListener(K,function(){var cD=l(n)||0;cD=parseInt(cD,10);cD=2+cD;if(cD>2){cD=0;cm(bX,"1",7);}else{if(cD===2){cm(bX,"1",3);}}aF(n,cD);});(function(){var cE="",cD=function(){var cF=new bW(),cG=cF.toString();if(cE!==cG){cE=cG;bc().fire(a4,[cF]);}av(cD,2000);};av(cD,1000);})();};var bU=new b8();bU.initialize();bU.register();bU.spawnReScanWatchDog();var b4=new aM();})();