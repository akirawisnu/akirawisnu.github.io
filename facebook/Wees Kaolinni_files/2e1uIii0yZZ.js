/*!CK:250973976!*//*1395635492,178183207*/

if (self.CavalryLogger) { CavalryLogger.start_js(["pmyhB"]); }

__d("AppCenterController",["CSS","DOM","URI"],function(a,b,c,d,e,f,g,h,i){var j={_parameters:{},setPlatform:function(k){h.scry(document.body,'.appCenterPlatforms .platformButton').forEach(function(l){g.conditionClass(l,'selected',g.hasClass(l,'platform_'+k));});this.updateOptions('platform',k);},setFilter:function(k){h.scry(document.body,'.appCenterPlatforms .appCenterMobileFilterButton').forEach(function(l){g.conditionClass(l,'selected',g.hasClass(l,'platform_'+k));});this.updateOptions('platform',k);},setCategory:function(k){var l=h.scry(document.body,'.appCenterPlatforms a');l.forEach(function(m){m.href=m.href.replace(/\/appcenter\/category\/[a-z]+\//,"/appcenter/category/"+k+"/");});},clearSearchInput:function(){h.scry(document.body,'.appCenterSearchBar form').forEach(function(k){h.find(k,'.inputtext').value='';g.hide(k);});},updateOptions:function(k,l){if(k=='platform'&&l=='timeline')return;if(!l){delete this._parameters[k];}else this._parameters[k]=l;var m=h.scry(document.body,'.appCenterCategory a').concat(h.scry(document.body,'.leftNavTitle a')),n=this._parameters;m.forEach(function(o){o.href=new i(o.href).setQueryData(n).toString();});}};e.exports=j;});
__d("AppCenterSearch",["Event","CSS","DOM","Input"],function(a,b,c,d,e,f,g,h,i,j){var k={init:function(l,m){var n=i.find(l,'.inputtext');g.listen(m,'click',function(){h.show(l);n.focus();});g.listen(n,'blur',function(){if(!j.getValue(n))h.hide(l);});}};e.exports=k;});
__d("AppScreenshotsController",["AsyncRequest","CSS","DOM","Event","KeyEventController","Style","Vector","copyProperties","csx","cx","shield","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=120,t=null;function u(v,w){t=this;this._ids=w;var x=i.scry(v,"div._5czo");for(var y=0;y<x.length&&y<w.length;++y)j.listen(x[y],'click',this.bootstrap.bind(this,y));}n(u,{init:function(v,w){t.init(v,w);}});n(u.prototype,{_ids:[],_root:null,_img:null,_imgSrcs:null,_index:null,_isCached:[],_cacheID:0,bootstrap:function(v){this._index=v;if(this._spotlight){this._open();}else new g('/ajax/appcenter/screenshots.php').setData({ids:this._ids}).send();},init:function(v,w){if(this._spotlight)return;v.subscribe('hide',this._onHide.bind(this));this._spotlight=v;this._root=v.getRoot();this._imgSrcs=w;this._img=i.find(this._root,"img._2xe");this._prevPager=i.find(this._root,"a._2xj");this._nextPager=i.find(this._root,"a._2xk");this._open();},_open:function(){this._spotlight.show();var v=i.find(this._root,"div._2xf");this._handlers=[j.listen(this._img,'load',this.startCaching.bind(this)),j.listen(window,'resize',this._onResize.bind(this)),j.listen(this._root,'click',this._onClick.bind(this)),j.listen(v,'mousemove',this._onMouseMove.bind(this)),j.listen(v,'mouseleave',q(h.addClass,h,this._root,'hidePager')),j.listen(v,'mouseenter',q(h.removeClass,h,this._root,'hidePager')),k.registerKey('LEFT',q(this.go,this,-1)),k.registerKey('RIGHT',q(this.go,this,1))];this.updateIndex();this._onResize();},_onHide:function(){while(this._handlers.length)this._handlers.pop().remove();},_onClick:function(){if(h.hasClass(this._prevPager,"_2xl")){this.go(-1);}else this.go(1);},go:function(v){this._index=this._index+v;if(this._index<0)this._index=this._imgSrcs.length-1;if(this._index>=this._imgSrcs.length)this._index=0;if(0<=this._index&&this._index<this._imgSrcs.length){this.stopCaching();this.updateIndex();}},updateIndex:function(){this._img.src=this._imgSrcs[this._index];i.setContent(i.find(this._root,"div._2xg"),r._("{position} of {total}",{position:this._index+1,total:this._imgSrcs.length}));},_onResize:function(){var v=Math.ceil(m.getElementDimensions(this._root).y*.8),w=Math.ceil(m.getElementDimensions(this._root).x*.8);l.set(this._img,'max-height',v+"px");l.set(this._img,'max-width',w+"px");},_onMouseMove:function(event){var v=m.getEventPosition(event),w=m.getElementPosition(this._img),x=event.getTarget()===this._prevPager||v.x<=w.x+s;h.conditionClass(this._prevPager,"_2xl",x);h.conditionClass(this._nextPager,"_2xl",!x);},startCaching:function(){if(this._imgSrcs.length>0){var v=this._imgSrcs.length,w=[(this._index-2+v)%v,(this._index+2)%v,(this._index-1+v)%v,(this._index+1)%v];this.stopCaching();this.doCaching(this._cacheID,w);}},stopCaching:function(){this._cacheID=this._cacheID+1;},doCaching:function(v,w){while(w.length>0&&this._cacheID==v){var x=w.pop();if(!this._isCached[x]&&0<=x&&x<this._imgSrcs.length){this._isCached[x]=true;var y=new Image();y.onload=this.doCaching.bind(this,v,w);y.src=this._imgSrcs[x];break;}}}});e.exports=u;});
__d("AppVideoController",["Arbiter","CSS"],function(a,b,c,d,e,f,g,h){function i(j,k,l){"use strict";this.$AppVideoController0=j;this.$AppVideoController1=k;this.$AppVideoController2=l;j.tagName==='VIDEO'?this.setupHTML5():this.setupFlash();}i.prototype.setupFlash=function(){"use strict";g.subscribe(['flash/beginPlayback','flash/pausePlayback','flash/finishPlayback','flash/clickForTracking'],this.$AppVideoController3.bind(this));this.$AppVideoController2.addEventListener('click',function(){var j=this.$AppVideoController0.getAttribute('data-swfid'),k=document.getElementById(j);k.playVideo();}.bind(this));};i.prototype.setupHTML5=function(){"use strict";var j=this.$AppVideoController4.bind(this);this.$AppVideoController0.addEventListener('playing',j);this.$AppVideoController0.addEventListener('seeking',j);this.$AppVideoController0.addEventListener('ended',j);this.$AppVideoController2.addEventListener('click',this.$AppVideoController0.play.bind(this.$AppVideoController0));};i.prototype.$AppVideoController4=function(event){"use strict";switch(event.type){case 'playing':case 'seeking':h.hide(this.$AppVideoController1);break;case 'ended':h.show(this.$AppVideoController1);break;}};i.prototype.$AppVideoController3=function(j,k){"use strict";if(k.divID!=this.$AppVideoController0.getAttribute('id'))return;switch(j){case 'flash/beginPlayback':case 'flash/clickForTracking':h.hide(this.$AppVideoController1);break;case 'flash/finishPlayback':h.show(this.$AppVideoController1);break;}};e.exports=i;});
__d("HorizontalItemListController",["Event","DOM","csx","CSS","Locale"],function(a,b,c,d,e,f,g,h,i,j,k){function l(m,n,o,p,q){"use strict";var r=h.find(n,"a._5py8"),s=h.find(n,"a._5py9");if(q<=o){k.isRTL()?j.hide(s):j.hide(r);}else{g.listen(r,'click',m.page.bind(m,'prev'));g.listen(s,'click',m.page.bind(m,'next'));m.subscribe('page_start',this.$HorizontalItemListController0.bind(this));this.$HorizontalItemListController1=m;this.$HorizontalItemListController2=h.find(s,'span');this.$HorizontalItemListController3=o;this.$HorizontalItemListController4=p;}}l.prototype.$HorizontalItemListController0=function(m,n){"use strict";var o=(n+1===this.$HorizontalItemListController1.getNumItems()-1);h.setContent(this.$HorizontalItemListController2,(o?this.$HorizontalItemListController4:this.$HorizontalItemListController3)+" \u25B6");};e.exports=l;});
__d("AppCenterSideNav",["CSS","DOM","Event","FutureSideNav","Parent","Vector","$","copyProperties","ge"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){for(var p in j)if(j.hasOwnProperty(p))r[p]=j[p];var q=j===null?null:j.prototype;r.prototype=Object.create(q);r.prototype.constructor=r;r.__superConstructor__=j;function r(){"use strict";if(j!==null)j.apply(this,arguments);}r.prototype.init=function(s,t,u){"use strict";q.init.call(this,s,t,u);this.leftCol=m('leftCol');this.leftColTop=l.getElementPosition(this.leftCol).y;i.listen(window,'scroll',this._adjustLeftCol.bind(this));this._adjustLeftCol();};r.prototype.getItem=function(s){"use strict";return q.getItem.call(this,s)||this._getAppCenterItem(s);};r.prototype.setSelected=function(s){"use strict";this.setLoading(null);if(this.selected&&!this.selected.defaultItem){this.selected.hideSelected();this.selected.getTop().hideChildren();}this.selected=s;if(this.selected&&!this.selected.defaultItem){this.selected.showSelected();this.selected.getTop().showChildren();}};r.prototype.navigationComplete=function(){"use strict";window.scrollTo(0,0);q.navigationComplete.call(this);};r.prototype._getAppCenterItem=function(s){"use strict";if(this._isCurrentPath(s)){var t=this._getItemForPath(s.getPath());if(t)return t;}if(this.base_path.test(s.getPath()))return {endpoint:this.base_endpoint+s.getPath(),defaultItem:true,showLoading:function(){var u=false;h.scry(document,'a').forEach(function(w){if(w.href==s&&!g.hasClass(w,'ignoreAsyncIndicator')){var x=k.byClass(w,'stat_elem');if(x){g.addClass(x,'async_saving');u=true;}}});if(!u){var v=o('contentCol');v&&g.addClass(v,'async_saving');}},hideLoading:function(){window.scrollTo(0,0);var u=o('contentCol');u&&g.removeClass(u,'async_saving');h.scry(document,'a').forEach(function(v){if(v.href==s&&!g.hasClass(v,'ignoreAsyncIndicator')){var w=k.byClass(v,'stat_elem');w&&g.removeClass(w,'async_saving');}});}};};r.prototype._adjustLeftCol=function(){"use strict";var s=l.getElementDimensions(this.leftCol);g.conditionClass(this.leftCol,'fixed',this.leftColTop+s.y<=window.innerHeight);};r.prototype._handleResize=function(){"use strict";q._handleResize.call(this);this._adjustLeftCol();};n(r.prototype,{base_path:new RegExp('/appcenter(/.*)?$'),base_endpoint:'/ajax'});e.exports=r;});
__d("legacy:app-center-side-nav-js",["AppCenterSideNav"],function(a,b,c,d){a.AppCenterSideNav=b('AppCenterSideNav');},3);
__d("SendToMobile",["Arbiter","copyProperties","CSS","DOMEventListener"],function(a,b,c,d,e,f,g,h,i,j){function k(l){this.enabledItem=l.enabledItem;this.loadingItem=l.loadingItem;this.disabledItem=l.disabledItem;this.loadingIndicator=l.loadingIndicator;this.elementReferences=l.elementReferences;this.type=l.type;var m=function(n){this.startSend();}.bind(this);j.add(this.enabledItem,'click',m);g.subscribe('platform/send_to_mobile/complete',this.complete.bind(this),g.SUBSCRIBE_NEW);g.subscribe('platform/send_to_mobile/failure',this.reset.bind(this),g.SUBSCRIBE_NEW);}h(k.prototype,{startSend:function(){i.hide(this.enabledItem);if(this.type==='button'){i.show(this.loadingIndicator);this.elementReferences.loadingButton.appendChild(this.loadingIndicator);}i.show(this.loadingItem);this.started=true;},reset:function(){i.hide(this.loadingItem);i.show(this.enabledItem);if(this.type==='button'||this.type==='plugin')i.hide(this.loadingIndicator);},complete:function(){if(this.started){i.hide(this.loadingItem);i.show(this.disabledItem);}this.started=false;}});e.exports=k;});
__d("TypeaheadRedirectOnSelect",["copyProperties","goURI"],function(a,b,c,d,e,f,g,h){function i(j){"use strict";this._typeahead=j;}i.prototype.enable=function(){"use strict";this._subscription=this._typeahead.subscribe('select',function(event,j){var k=j.selected.path;k&&h(k);});};i.prototype.disable=function(){"use strict";this._typeahead.unsubscribe(this._subscription);this._subscription=null;};g(i.prototype,{_subscription:null});e.exports=i;});
__d("AppSearchTypeaheadRenderer",["CompactTypeaheadRenderer","DOM","WWWBase"],function(a,b,c,d,e,f,g,h,i){function j(k,l){var m=g(k,l);if(!k.type)return m;var n=k.is_external?'_blank':'',o=k.path||'';if(o){if(!(/^https?\:\/\//).test(o))o=i.uri+o.substr(1);o+=(o.indexOf('?')>0?'&':'?')+'ref=ts';}var p=h.create('a',{href:o,rel:'ignore',target:n});while(m.firstChild)h.appendContent(p,m.firstChild);h.setContent(m,p);return m;}j.className=g.className;e.exports=j;});