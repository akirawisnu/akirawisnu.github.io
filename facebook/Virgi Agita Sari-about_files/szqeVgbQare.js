/*!CK:1098419513!*//*1392693229,178175255*/

if (self.CavalryLogger) { CavalryLogger.start_js(["R7Rot"]); }

__d("legacy:AggregatedMap",["AggregatedMap","AggregatedMapCalloutOrientation"],function(a,b,c,d){a.AggregatedMap=b('AggregatedMap');a.AggregatedMapCalloutOrientation=b('AggregatedMapCalloutOrientation');},3);
__d("PubcontentPageTimelineChainingController",["Arbiter","AsyncRequest","DOM","PageLikeButton","PubcontentPageTimelineChainingConfig","XPubcontentChainedSuggestionsControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=100,n='fbSuggestionsPlaceHolder';o.initWithContext=function(p){if(!this.$PubcontentPageTimelineChainingController0)this.$PubcontentPageTimelineChainingController0=new o();if(k.trigger_on_load)this.$PubcontentPageTimelineChainingController0.onExplicitChain(p);};function o(){this.$PubcontentPageTimelineChainingController1={};this.$PubcontentPageTimelineChainingController2=k;g.subscribe(j.LIKED,this.onLike.bind(this));}o.prototype.onLike=function(p,q){this.$PubcontentPageTimelineChainingController3(q.target,{origin:q.origin,profile_id:q.profile_id});};o.prototype.onExplicitChain=function(p){setTimeout(this.$PubcontentPageTimelineChainingController3.bind(this,undefined,p),m);};o.prototype.$PubcontentPageTimelineChainingController4=function(p){var q=i.scry(document,'#'+n);return q.length?q[0]:null;};o.prototype.$PubcontentPageTimelineChainingController5=function(p){return !(p in this.$PubcontentPageTimelineChainingController1);};o.prototype.$PubcontentPageTimelineChainingController6=function(p){if(!p)return false;var q=this.$PubcontentPageTimelineChainingController2.origins;if(!q||!q[p.origin])return false;return true;};o.prototype.$PubcontentPageTimelineChainingController7=function(p){this.$PubcontentPageTimelineChainingController1[p]=true;};o.prototype.$PubcontentPageTimelineChainingController8=function(p){delete this.$PubcontentPageTimelineChainingController1[p];};o.prototype.$PubcontentPageTimelineChainingController3=function(p,q){var r=q.profile_id;if(!this.$PubcontentPageTimelineChainingController5(r))return false;if(!this.$PubcontentPageTimelineChainingController6(q))return false;var s=this.$PubcontentPageTimelineChainingController4(p);if(!s)return;this.$PubcontentPageTimelineChainingController7(r);var t=(new l()).setInt('pageid',r).getURI();new h().setErrorHandler(this.$PubcontentPageTimelineChainingController8.bind(this,r)).setRelativeTo(s).setURI(t).send();};e.exports=o;});